NewColumnFormattingForm is a Form
    title is "Formatting"
    Layout
        visible when (DoesNotSupportJavaFormat)
            single column
                JavaFormat
                    when value changed
                        refresh NewTestFormatValue
            paragraph
                BuildJavaFormat
                    label is "ShowJavaFormatBuilder"
                    display as switch
        visible when (BuildJavaFormat)
            visible when (FieldDataType.Date)
                single column
                    DateFormat
                        when value changed
                            JavaFormat =  CalculateDateFormat
                                when (FieldDataType.Date)
                            JavaFormat =  CalculateTimeStampFormat
                                when (FieldDataType.TimeStamp)
                    IncludeCentury
                        display as switch
                        when value changed
                            JavaFormat =  CalculateDateFormat
                                when (FieldDataType.Date)
                            JavaFormat =  CalculateTimeStampFormat
                                when (FieldDataType.TimeStamp)
                    DateSeparator
                        display as horizontal radio buttons
                        when value changed
                            JavaFormat =  CalculateDateFormat
                                when (FieldDataType.Date)
                            JavaFormat =  CalculateTimeStampFormat
                                when (FieldDataType.TimeStamp)
            visible when (FieldDataType.Time)
                text of "Time_FormatIncludes"
                two column
                    column1
                        IncludeHours
                            label is "Hours"
                            display as switch
                            when value changed
                                JavaFormat =  CalculateTimeFormat
                                    when (FieldDataType.Time)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        IncludeSeconds
                            label is "Seconds"
                            display as switch
                            when value changed
                                JavaFormat =  CalculateTimeFormat
                                    when (FieldDataType.Time)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                    column2
                        IncludeMinutes
                            label is "Minutes"
                            display as switch
                            when value changed
                                JavaFormat =  CalculateTimeFormat
                                    when (FieldDataType.Time)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        IncludeMilliseconds
                            label is "Milliseconds"
                            display as switch
                            when value changed
                                JavaFormat =  CalculateTimeFormat
                                    when (FieldDataType.Time)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                single column
                    TimeSeparator
                        display as horizontal radio buttons
                        when value changed
                            JavaFormat =  CalculateTimeFormat
                                when (FieldDataType.Time)
                            JavaFormat =  CalculateTimeStampFormat
                                when (FieldDataType.TimeStamp)
            visible when (FieldDataType.TimeStamp)
                two column table
                    column headers
                        "Date"
                        "Time"
                    column1
                        text of "Date_Format"
                        DateFormat
                            no label
                            when value changed
                                JavaFormat =  CalculateDateFormat
                                    when (FieldDataType.Date)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        IncludeCentury
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDateFormat
                                    when (FieldDataType.Date)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        DateSeparator
                            display as horizontal radio buttons
                            when value changed
                                JavaFormat =  CalculateDateFormat
                                    when (FieldDataType.Date)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        text of "_"
                    column2
                        text of "Time_FormatIncludes"
                        two column table
                            column1
                                IncludeHours
                                    label is "Hours"
                                    display as switch
                                    when value changed
                                        JavaFormat =  CalculateTimeFormat
                                            when (FieldDataType.Time)
                                        JavaFormat =  CalculateTimeStampFormat
                                            when (FieldDataType.TimeStamp)
                                IncludeMinutes
                                    label is "Minutes"
                                    display as switch
                                    when value changed
                                        JavaFormat =  CalculateTimeFormat
                                            when (FieldDataType.Time)
                                        JavaFormat =  CalculateTimeStampFormat
                                            when (FieldDataType.TimeStamp)
                            column2
                                IncludeSeconds
                                    label is "Seconds"
                                    display as switch
                                    when value changed
                                        JavaFormat =  CalculateTimeFormat
                                            when (FieldDataType.Time)
                                        JavaFormat =  CalculateTimeStampFormat
                                            when (FieldDataType.TimeStamp)
                                IncludeMilliseconds
                                    label is "Milliseconds"
                                    display as switch
                                    when value changed
                                        JavaFormat =  CalculateTimeFormat
                                            when (FieldDataType.Time)
                                        JavaFormat =  CalculateTimeStampFormat
                                            when (FieldDataType.TimeStamp)
                        TimeSeparator
                            display as horizontal radio buttons
                            when value changed
                                JavaFormat =  CalculateTimeFormat
                                    when (FieldDataType.Time)
                                JavaFormat =  CalculateTimeStampFormat
                                    when (FieldDataType.TimeStamp)
                        text of "_"
            visible when (FieldDataType.Alpha)
                single column
                    UpperCase
                        display as switch
                        when value changed
                            JavaFormat =  CalculateAlphaFormat
                    EncloseInDoubleQuotes
                        display as switch
                        when value changed
                            JavaFormat =  CalculateAlphaFormat
            visible when (FieldDataType.Text)
                single column
                    UpperCase
                        display as switch
                        when value changed
                            JavaFormat =  CalculateTextFormat
                    EncloseInDoubleQuotes
                        display as switch
                        when value changed
                            JavaFormat =  CalculateTextFormat
            visible when (FieldDataType.Numeric)
                single column
                    Width
                        when value changed
                            JavaFormat =  CalculateDecimalFormat
                                when (FieldDataType.Decimal)
                            JavaFormat =  CalculateNumericFormat
                                when (FieldDataType.Numeric)
                two column
                    column1
                        AddCommas
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                        UseParenthesesForNegativeValue
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                    column2
                        ZeroFill
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                        PrependPlusForPositiveValue
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
            visible when (FieldDataType.Decimal)
                two column
                    column1
                        Width
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                        AddCommas
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                        UseParenthesesForNegativeValue
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                    column2
                        Precision
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                        ZeroFill
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
                        PrependPlusForPositiveValue
                            display as switch
                            when value changed
                                JavaFormat =  CalculateDecimalFormat
                                    when (FieldDataType.Decimal)
                                JavaFormat =  CalculateNumericFormat
                                    when (FieldDataType.Numeric)
        visible when (SupportsReplacement)
            header3 of "_"
            visible when (FieldDataType.Alpha)
                visible when (FileCreationSetup.FileType.Separated)
                    paragraph
                        TruncateToLength
                            display as switch
                            when value changed
                                refresh NewTestFormatValue
                                Length =  blank
                                    when (not TruncateToLength)
                        valid when (TruncateToLength)
                            Length
                                when value changed
                                    refresh NewTestFormatValue
                single column
                    ConvertToUpperCase
                        display as switch
                        when value changed
                            refresh NewTestFormatValue
                paragraph
                    text of "Substring"
                    SubstringStart
                        label is "Start"
                        when value changed
                            refresh NewTestFormatValue
                    SubstringEnd
                        label is "End"
                        when value changed
                            refresh NewTestFormatValue
            paragraph
                ReplacementRegularExpression
                    when value changed
                        refresh NewTestFormatValue
                ReplacementReplaceWith
                    label is "ReplaceWith"
                    when value changed
                        refresh NewTestFormatValue
        visible when (not InputOptionUsesSourceField)
            visible when (FieldDataType.Boolean)
                single column
                    NoFormattingForBooleanMF
                        no label
                        display as text
        visible when (InputOptionUsesSourceField)
            visible when (not SupportsReplacement)
                visible when (not FieldDataType.Boolean)
                    header3 of "_"
                visible when (DateAdjustmentValid)
                    visible when (FieldDataType.Date)
                        ApplyAdjustment
                            label is "Adjust_Date_Value"
                            display as switch
                        visible when (ApplyAdjustment)
                            paragraph
                                DateAdjustmentOperator
                                    label is "Operator"
                                    display as horizontal radio buttons
                                    when value changed
                                        refresh NewTestFormatValue
                                DateAdjustment.Units
                                    when value changed
                                        refresh NewTestFormatValue
                                DateAdjustment.UnitType
                                    when value changed
                                        refresh NewTestFormatValue
                    visible when (FieldDataType.TimeStamp)
                        ApplyAdjustment
                            label is "Adjust_Timestamp_Value"
                            display as switch
                        visible when (ApplyAdjustment)
                            paragraph
                                DateAdjustmentOperator
                                    label is "Operator"
                                    display as horizontal radio buttons
                                    when value changed
                                        refresh NewTestFormatValue
                                DateAdjustment.Units
                                    when value changed
                                        refresh NewTestFormatValue
                                DateAdjustment.UnitType
                                    when value changed
                                        refresh NewTestFormatValue
                single column
                    ShowAlphaDefaultField
                        display as switch
            visible when (not ShowAlphaDefaultField)
                visible when (FieldDataType.Alpha)
                    single column
                        DefaultAlpha
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Text)
                    single column
                        DefaultText
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Decimal)
                    single column
                        DefaultDecimal
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Numeric)
                    single column
                        DefaultNumeric
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Date)
                    single column
                        DefaultDate
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Time)
                    single column
                        DefaultTime
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.TimeStamp)
                    single column
                        DefaultTimeStamp
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
                visible when (FieldDataType.Boolean)
                    single column
                        DefaultBoolean
                            label is "DefaultValue"
                            when value changed
                                refresh NewTestFormatValue
            visible when (ShowAlphaDefaultField)
                single column
                    DefaultAlpha
                        label is "DefaultValue"
                        when value changed
                            refresh NewTestFormatValue
        visible when (not FieldDataType.Boolean)
            header3 of "FormattingPreview"
            paragraph
                visible when (SupportsReplacement)
                    TestValueAlpha
                        when value changed
                            refresh NewTestFormatValue
                visible when (FieldDataType.Numeric)
                    TestValueNumeric
                        when value changed
                            refresh NewTestFormatValue
                visible when (FieldDataType.Decimal)
                    TestValueDecimal
                        when value changed
                            refresh NewTestFormatValue
                visible when (FieldDataType.Date)
                    TestValueDate
                        when value changed
                            refresh NewTestFormatValue
                visible when (FieldDataType.Time)
                    TestValueTime
                        when value changed
                            refresh NewTestFormatValue
                visible when (FieldDataType.TimeStamp)
                    TestValueTimeStamp
                        when value changed
                            refresh NewTestFormatValue
                NewTestFormatValue
