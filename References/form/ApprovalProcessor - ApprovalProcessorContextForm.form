ApprovalProcessorContextForm is a Form
    propagate as a drill
    Layout
        paragraph
            ApprovalProcessor.SystemCode
                display as text
            ApprovalProcessor.Transaction
                display as text
        visible when (ApprovalProcessor.ApprovalTransactionForm.PayablesInvoice)
            display as text
                three column distributed
                    column1
                        PayablesInvoiceRel.DerivedVendorNameID
                            header3
                        PayablesInvoiceRel.Invoice
                            header3
                    column2
                        PayablesInvoiceRel.InvoiceDate
                            header3
                        PayablesInvoiceRel.DueDate
                            header3
                    column3
                        PayablesInvoiceAggregationRel.SummaryAccount
                            label is "AggregatedDistributionStructure"
                            header3
                            compact format
                        paragraph
                            DerivedAPSummaryAmountAndCurrency
                                label is "AggregatedDistributionAmount"
                                header3
                            visible when (DifferentInvoiceAndEntityCurrency)
                                DerivedApprovalAmountAndCurrency
                                    label is "FunctionalAmount"
                                    header3
        visible when (ApprovalProcessor.ApprovalTransactionForm.ContractManagement)
            display as text
                paragraph
                    ContractAggregationRel.SummaryAccount
                    DerivedContractSummaryAmountAndCurrency
                        label is "ApprovalAmount"
                    visible when (DifferentContractAndEntityCurrency)
                        DerivedApprovalAmountAndCurrency
                            label is "FunctionalAmount"
                five column distributed
                    ContractAggregationRel.Contract.RepresentativeText
                        label is "Contract"
                    ContractAggregationRel.Contract.WorkingContractID
                    ContractAggregationRel.Contract.Supplier.RepresentativeText
                        label is "Supplier"
                    paragraph
                        ContractAggregationRel.Contract.SupplierSourceId.MainContact.FirstAndLastName
                            label is "SupplierContact"
                    paragraph
                        ContractAggregationRel.Contract.PrimaryContact
                        visible when (ContractAggregationRel.Contract.PrimaryContactRel.PhoneNumberExists)
                            button of icon.phone
                                link is "tel:<ContractAggregationRel.Contract.PrimaryContactRel.DerivedPhone>"
                        visible when (ContractAggregationRel.Contract.PrimaryContactRel.EmailAddressExists)
                            button of icon.mail
                                link is "mailto:<ContractAggregationRel.Contract.PrimaryContactRel.DerivedEmail>"
        visible when (ApprovalProcessor.ApprovalTransactionForm.Requisition)
            display as text
                paragraph
                    RequisitionRel.Requester.Employee.Name.PreferredFirstAndLastName
                        label is "Requester"
                    button of icon.mail
                        link is "mailto:<RequisitionRel.Requester.Employee.EmployeeWorkEmailAddress>"
                    button of icon.phone
                        link is "tel:<RequisitionRel.Requester.Employee.EmployeeWorkTelephone>"
                four column distributed
                    RequisitionRel.Company.DerivedCompanyNameID
                        label is "Company"
                    RequisitionRel.RequestingLocation.RequestingLocationNameID
                        label is "RequestingLocation"
                    RequisitionRel.AllocationPriority
                        label is "Priority"
                four column distributed
                    paragraph
                        RequisitionRel.DerivedRequsitionAmountCurrency
                            label is "Total"
                        visible when (DifferentRQAndEntityCurrency)
                            DerivedApprovalAmountAndCurrency
                                label is "FunctionalTotal"
                    RequisitionRel.InventoryItemsTotal
                    RequisitionRel.NonstockItemsTotal
                    RequisitionRel.SpecialAndServiceItemsSTotal
                paragraph
                    visible when (RequisitionRel.DerivedUseDefaultHeaderAccountForMatrix)
                        RequisitionRel.DefaultDistributionAccount
                            label is "AccountForMatrixApproval"
                            compact format
                    visible when (RequisitionRel.DerivedUseRequestingLocationIssueAccountForMatrix)
                        RequisitionRel.RequestingLocation.IssueAccount
                            label is "AccountForMatrixApproval"
                            compact format
        visible when (ApprovalProcessor.ApprovalTransactionForm.PurchaseOrder)
            display as text
                paragraph
                    PODistributionAggregationRel.SummaryAccount
                        label is "AggregatedDistribution"
                        compact format
                    DerivedPOSummaryAmountAndCurrency
                        label is "AggregatedAmount"
                    visible when (DifferentPOAndEntityCurrency)
                        DerivedApprovalAmountAndCurrency
                            label is "FunctionalAmount"
                four column distributed
                    PurchaseOrderRel.Company.RepresentativeText
                        label is "Company"
                    paragraph
                        PurchaseOrderRel.DisplayRelevantPurchaseOrderAndRevision
                            label is "PurchaseOrder"
                        PurchaseOrderRel.PurchaseOrderDate
                            label is "Date"
                    visible when (PurchaseOrderRel.HasDefaultDeliveryDate)
                        PurchaseOrderRel.DefaultDeliveryDate
                            label is "DeliveryDate"
                    PurchaseOrderRel.DerivedShipToLocationRepresentativeText
                four column distributed
                    paragraph
                        PurchaseOrderRel.Buyer.Employee.Name.PreferredFirstAndLastName
                            label is "Buyer"
                        visible when (PurchaseOrderRel.BuyerEmail entered)
                            button of icon.mail
                                link is "mailto:<PurchaseOrderRel.BuyerEmail>"
                        visible when (PurchaseOrderRel.BuyerPhone entered)
                            button of icon.phone
                                link is "tel:<PurchaseOrderRel.Buyer.Employee.EmployeeWorkTelephone>"
                    PurchaseOrderRel.Vendor.RepresentativeText
                    visible when (PurchaseOrderRel.HasPurchaseFromLocation)
                        PurchaseOrderRel.PurchaseFromLocation.RepresentativeText
                            label is "PurchaseFrom"
