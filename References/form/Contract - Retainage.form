Retainage is a Form
    title is "Retainage"
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Layout
        visible when (CanUpdateRetainage)
            single column
                RetainagePercentCompleteTracking
                    label is "TrackPercentComplete"
            visible when (not RetainagePercentCompleteTracking.NoRetainage)
                three column
                    RetainagePercent1
                        label is "FirstRetainagePercent"
                    RetainageUpToPercent
                        label is "UpToPercentComplete"
                    RetainagePercent2
                        label is "SecondRetainagePercent"
                paragraph
                    RetainageDueDays
                        label is "RetainageInvoicesDue"
                    visible when (ExpirationDateEntered)
                        ExpirationDate
                            label is "DaysAfterContractExpirationDateOf"
                            display as text
                single column
                    RetainageOverridePercent
                        label is "OverridePercentComplete"
                    RetainagePercentComplete
                        label is "CalculatedPercentComplete"
                        display as text
                    visible when (ServicePurchaseType)
                        RetainageInvoiceAmount
                            label is "InvoicedAmount"
                            display as text
                    visible when (CanUpdateMaximumAmount)
                        MaximumAmount
                    visible when (not CanUpdateMaximumAmount)
                        MaximumAmount
                            display as text
        visible when (not CanUpdateRetainage)
            display as text
                single column
                    RetainagePercentCompleteTracking
                        label is "TrackPercentComplete"
                visible when (not RetainagePercentCompleteTracking.NoRetainage)
                    three column
                        RetainagePercent1
                            label is "FirstRetainagePercent"
                        RetainageUpToPercent
                            label is "UpToPercentComplete"
                        RetainagePercent2
                            label is "SecondRetainagePercent"
                    paragraph
                        RetainageDueDays
                            label is "RetainageInvoicesDue"
                        visible when (ExpirationDateEntered)
                            ExpirationDate
                                label is "DaysAfterContractExpirationDateOf"
                    single column
                        RetainageOverridePercent
                            label is "OverridePercentComplete"
                        RetainagePercentComplete
                            label is "CalculatedPercentComplete"
                        visible when (ServicePurchaseType)
                            RetainageInvoiceAmount
                                label is "InvoicedAmount"
                        MaximumAmount
