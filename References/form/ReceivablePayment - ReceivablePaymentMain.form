ReceivablePaymentMain is a Form
    use for action Unreleased.Update
    title is "ReceivablePayment"
    Layout
        four column distributed
            column1
                visible when (Status.Unreleased)
                    PaymentNumber
                visible when (not Status.Unreleased)
                    PaymentNumber
                        display as text
            column2
                visible when (Status.Unreleased)
                    TransactionAmount
                visible when (not Status.Unreleased)
                    TransactionAmount
                        display as text
            column3
                paragraph
                    visible when (Status.Unreleased)
                        ReceivedNotAppliedReceivableGeneralLedgerCode
                            label is RNACodeLabel
                    visible when (not Status.Unreleased)
                        ReceivedNotAppliedReceivableGeneralLedgerCode
                            label is RNACodeLabel
                            display as text
                    ReceivedNotAppliedReceivableGeneralLedgerCode.Description
                        no label
                        display as text
            column4
                visible when (HasRemits)
                    display as text
                        paragraph
                            DerivedRemitTotal
                                label is "RemitTotal"
                            DerivedRemitDifference
                                label is "Difference"
        paragraph
            button of "Prepay"
                visible when (ShowPrepayButton)
                form invoke is Prepayment
        blank line
        visible when (UnreleasedCustomerPayment)
            header2 of "Customer"
            four column distributed
                column1
                    ReferenceNumber
                column2
                    BankEntity
                column3
                    BankAccountNumber
                column4
                    paragraph
                        Customer
                            select is CustomerContextCompanyCustomerSelectList
                        Customer.Name
                            no label
                            display as text
            blank line
            header2 of "ProjectInformation"
            four column distributed
                column1
                    FinanceDimension2
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.FinanceDimension2Label>"
                column2
                    visible when (Status.Unreleased)
                        ProjectContract
                            label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                    visible when (not Status.Unreleased)
                        ProjectContract.DisplayContract
                            label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                column3
                    Project
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>"
                column4
        visible when (ReleasedCustomerPayment)
            header2 of "Customer"
            display as text
                four column distributed
                    column1
                        ReferenceNumber
                    column2
                        BankEntity
                    column3
                        BankAccountNumber
                    column4
                        Customer.RepresentativeText
            blank line
            header3 of "_"
            two column
                display as text
                    column1 of 25%
                        paragraph
                            CashCode.CashCodeAndDescription
                                label is "CashCode"
                    column2 of 75%
                        visible when (not HasCashDetailsForReleasedPayment)
                            paragraph
                                ReceivablePaymentHeader.CompanyCashCodeCashAccount
                        visible when (HasCashDetailsForReleasedPayment)
                            text of "CashCodeDetailsExist;See_Cash_DetailsTab"
                                bold
            blank line
            header3 of "_"
            two column
                display as text
                    column1 of 25%
                        paragraph
                            ReceivedNotAppliedReceivableGeneralLedgerCode.DerivedReceivableGlobalLedgerCodeTitle
                                label is "ReceivedNotApplied-GlobalLedgerCode"
                    column2 of 75%
                        visible when (not HasCashDetailsForReleasedPayment)
                            paragraph
                                ReceivedNotAppliedReceivableGeneralLedgerCode.DistributionAccount
                        visible when (HasCashDetailsForReleasedPayment)
                            text of "ReceivedNotAppliedDetailsExist;See_Payment_Batch_Distributions_Tab"
                                bold
            blank line
            header2 of "ProjectInformation"
            display as text
                four column distributed
                    column1
                        FinanceDimension2
                            label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.FinanceDimension2Label>"
                    column2
                        visible when (Status.Unreleased)
                            ProjectContract
                                label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                        visible when (not Status.Unreleased)
                            ProjectContract.DisplayContract
                                label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                    column3
                        Project
                            label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>"
                    column4
        visible when (Transferred)
            header2 of "TransferredInformation"
            four column distributed
                column1
                    display as text
                        paragraph
                            TransferredToCustomer.RepresentativeText
                                label is "TransferredToCustomer"
                column2
                    display as text
                        paragraph
                            TransferredFromCustomer.RepresentativeText
                                label is "TransferredFromCustomer"
                column3
                    display as text
                        paragraph
                            TransferDate
                column4
                    display as text
                        paragraph
                            TransferAmountTransactionCurrency
                                label is "TransferredAmount"
        visible when (ShowApplicationInformation)
            header2 of "ApplicationInformation"
            three column
                column1
                    display as text
                        paragraph
                            TransactionAmount
                            CreditAppliedAmount
                                label is "CreditApplied"
                            AppliedAmount
                                label is "Applied"
                            AdjustAmountTransactionCurrency
                                label is "Adjusted"
                            visible when (TransientPaymentOpen entered)
                                TransientPaymentOpen
                                    label is "Open"
                                        header4
                                        bold
                                        color of red
                                    header4
                                    color of red
                                OriginalCurrency
                                    label is "_"
                                    header4
                                    color of red
                            visible when (TransientPaymentOpen not entered)
                                TransientPaymentOpen
                                    label is "Open"
                                        header4
                                        bold
                                        color of green
                                    header4
                                    color of green
                                OriginalCurrency
                                    label is "_"
                                    header4
                                    color of green
                    button of "ReversePostedApplications"
                        visible when (AvailableForReversal)
                        link is PaymentReversalCompositeNav
                        display as link
                column2
                    visible when (ShowOnCashApplicationSelectListWithDetail)
                        button of "SelectInvoicesAndApplyPayments"
                            link is CashApplication
                column3
                    visible when (ShowOnCashApplicationListWithDetail)
                        button of "ApplyPayments"
                            link is CashApplicationNav
        visible when (Company.UseIDM)
            header2 of "Printer"
            paragraph
                IDMPrinter
                    select is ActiveIDMPrinter
                IDMPrinter.Description
                    no label
                    display as text
