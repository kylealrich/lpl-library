AllowanceMain is a Form
    Layout
        visible when (not NoLine)
            paragraph
                ContractLine
                    display as text
                ContractLine.ItemDescription
                    no label
                    display as text
        single column
            ContractAllowance
                label is "Allowance"
            Description
        visible when (not AllowanceExists)
            paragraph
                Amount
                visible when (not AllowanceExists)
                    visible when (HasMaxAmount)
                        text of "or"
                        AllowancePercentOfMaxAmount
                        visible when (not NoLine)
                            ContractLine.LifetimeMaximumAmount
                                label is "MaximumAmount"
                                display as text
                        visible when (NoLine)
                            Contract.MaximumAmount
        paragraph
            visible when (AllowanceExists)
                Amount
            visible when (Contract.HasBeenActivated)
                DerivedOriginalAmount
                    label is "OriginalAmount"
                    display as text
                DerivedChangeOrderAmount
                    label is "ChangeOrderAmount"
                    display as text
        single column
            visible when (ContractLine.QuantityServiceItem)
                Quantity
            visible when (Contract.UseHeaderCommitments)
                Committed
            visible when (Contract.UseLineCommitments)
                visible when (not NoLine)
                    Committed
