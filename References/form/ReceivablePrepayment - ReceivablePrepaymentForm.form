ReceivablePrepaymentForm is a Form
    is primary
    title is "ReceivablePrepayment"
    Layout
        paragraph
            Company
                display as text
            Company.Name
                no label
                display as text
        display as text
            single column
                ReceivablePaymentHeader
                ReceivablePayment.ReceivablePayment.PaymentNumber
        blank line
        visible when (IsUnreleasedCustomerPayment)
            visible when (ReceivablePayment.ReceivablePayment.IsOpenOrUnreleased)
                single column
                    InputReferenceType
            visible when (InputReferenceType.Invoice)
                paragraph
                    ReceivableInvoiceType
                    ReceivableInvoice
            visible when (InputReferenceType.BillingInvoice)
                single column
                    BillingInvoice
                        compact format
            visible when (InputReferenceType.PurchaseOrder)
                single column
                    Invoice
            visible when (InputReferenceType.External)
                single column
                    Invoice
            visible when (InputReferenceType.Order)
                single column
                    CustomerOrder
            visible when (InputReferenceType.ProformaInvoice)
                single column
                    ProformaInvoice
                        select is ProformaInvoicesList
            visible when (InputReferenceType.FundingSource)
                paragraph
                    FinanceDimension2
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.FinanceDimension2Label>"
                    ProjectContract
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                    Project
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>"
        visible when (IsOpenCustomerPayment)
            visible when (ReceivablePayment.ReceivablePayment.IsOpenOrUnreleased)
                single column
                    InputReferenceType
                        display as text
            visible when (InputReferenceType.Invoice)
                paragraph
                    ReceivableInvoiceType
                        display as text
                    ReceivableInvoice
                        display as text
            visible when (InputReferenceType.BillingInvoice)
                single column
                    BillingInvoice
                        display as text
                        compact format
            visible when (InputReferenceType.PurchaseOrder)
                single column
                    Invoice
                        display as text
            visible when (InputReferenceType.External)
                single column
                    Invoice
                        display as text
            visible when (InputReferenceType.Order)
                single column
                    CustomerOrder
                        display as text
            visible when (InputReferenceType.ProformaInvoice)
                single column
                    ProformaInvoice
                        display as text
                        select is ProformaInvoicesList
            visible when (InputReferenceType.FundingSource)
                paragraph
                    FinanceDimension2
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.FinanceDimension2Label>"
                        display as text
                    ProjectContract.DisplayContract
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>Contract"
                        display as text
                    Project
                        label is "<Company.CustomerBusinessGroup.FinanceEnterpriseGroup.ProjectLabel>"
                        display as text
        blank line
        single column
            AutomaticCashApplication
                label is "AutomaticPrepaymentApplication"
