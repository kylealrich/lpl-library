Main is a Form
    Layout
        visible when (PayablesInvoice.MatchProcessType.ServiceContract)
            paragraph
                ServiceContractMessage
                    no label
                    bold
                    italics
                    display as text
        header2 of "Actions"
        three column distributed
            column1
                visible when (Status.Closed)
                    ApplicationAction
                        label is "UnitCostAction"
                        display as text
                    paragraph
                        ReasonCode
                            display as text
                            select is MAReasonCodes
                        ReasonCode.Description
                            no label
                            display as text
                        visible when (MatchMessageOrigin.ReconMatch)
                            button of "Details"
                                link is ChargebackDetailsNav
                                display as link
                visible when (not Status.Closed)
                    visible when (MatchMessageOrigin.PoCost)
                        POCostFlag
                            label is "UnitCostAction"
                    visible when (not MatchMessageOrigin.PoCost)
                        InvoiceMessageAction
                            label is "Action"
                    paragraph
                        ReasonCode
                            select is MAReasonCodes
                        ReasonCode.Description
                            no label
                            display as text
                        visible when (MatchMessageOrigin.ReconMatch)
                            button of "Details"
                                link is ChargebackDetailsNav
                                display as link
            column2
                visible when (MatchMessageOrigin.PoCost)
                    paragraph
                        visible when (not Status.Closed)
                            AdjustedUnitCost
                                label is "AdjustedUnitCost"
                                raise yellow alert when (DifferentUOM)
                                    mouse over text is "<DifferentUOMMessage>"
                            AdjustedUnitCostUOM
                                no label
                                select is ValidBuyUnitsOfMeasure
                        visible when (Status.Closed)
                            AdjustedUnitCost
                                label is "AdjustedUnitCost"
                                display as text
                                raise yellow alert when (DifferentUOM)
                                    mouse over text is "<DifferentUOMMessage>"
                            AdjustedUnitCostUOM
                                no label
                                display as text
                visible when (not MatchMessageOrigin.ReconMatch)
                    display as text
                        paragraph
                            PayablesInvoiceDetail.EnteredUnitCost
                                label is "InvoiceUnitCost"
                            PayablesInvoiceDetail.EnteredUOM
                                no label
                visible when (MatchMessageOrigin.PoCost)
                    visible when (DifferentUOM)
                        paragraph
                            DerivedInvoiceCostInPoUOM
                                label is "WhichEquatesTo"
                                    italics
                                display as text
                            PurchaseOrderLine.EnteredBuyUOM
                                no label
                                display as text
                            DerivedPurchaseOrderLineUnitCost
                                label is "PoUnitCost"
                                    italics
                                display as text
                                raise yellow alert when (POLineHasCostChanges)
                                    mouse over text is "<CostChangeMessage>"
                                raise blue alert when (HasCostMessagesForOtherInvoices)
                                    mouse over text is "<HasOtherMessages>"
                            PurchaseOrderLine.EnteredBuyUOM
                                no label
                                display as text
            column3
                visible when (Status.Closed)
                    display as text
                        ForwardToAuthorityCode
                        ForwardToBuyer
                visible when (not Status.Closed)
                    ForwardToAuthorityCode
                    ForwardToBuyer
        display as text
            header2 of "InvoiceDetailInformation"
            four column distributed
                column1
                    paragraph
                        visible when (PurchaseOrderLineEntered)
                            PurchaseOrderLine.LineNumber
                                label is "Line"
                        button of "InvoiceDetails"
                            link is PayablesInvoiceDrill
                            display as link
                    PayablesInvoiceDetail.DerivedInvoiceLineQuantityWithPrecision
                        label is "Quantity"
                column2
                    PayablesInvoiceDetail.Item
                        label is "Item"
                    PayablesInvoiceDetail.DerivedInvoiceLineUnitCostWithPrecision
                        label is "UnitCost"
                column3
                    PayablesInvoiceDetail.VendorItem
                    PayablesInvoiceDetail.DerivedInvoiceLineUOM
                        label is "UOM"
                column4
                    PayablesInvoiceDetail.ItemGTIN
                        label is "GTIN"
                    PayablesInvoiceDetail.DerivedExtendedAmountForMessage
                        label is "ExtendedCost"
            visible when (PurchaseOrderLineEntered)
                header2 of "PurchaseOrderLineInformation"
                four column distributed
                    column1
                        paragraph
                            PurchaseOrderLine.LineNumber
                                label is "Line"
                            button of "PurchaseOrderDetails"
                                sub form is MorePurchaseOrderInformation
                                display as link
                        DerivedPurchaseOrderOrContractQuantity
                            label is "Quantity"
                        visible when (not PurchaseOrderLine.ItemType.Service)
                            DerivedReceivedQuantity
                        visible when (PurchaseOrderLine.ItemType.Service)
                            PurchaseOrderLine.MatchedQuantity
                    column2
                        PurchaseOrderLine.Item
                            label is "Item"
                        DerivedPurchaseOrderLineUnitCost
                            label is "UnitCost"
                            raise yellow alert when (POLineHasCostChanges)
                                mouse over text is "<CostChangeMessage>"
                            raise blue alert when (HasCostMessagesForOtherInvoices)
                                mouse over text is "<HasOtherMessages>"
                        visible when (not PurchaseOrderLine.ItemType.Service)
                            PurchaseOrderLine.MatchedQuantity
                    column3
                        PurchaseOrderLine.VendorItem
                        PurchaseOrderLine.DerivedUnitOfMeasure
                            label is "UOM"
                    column4
                        PurchaseOrderLine.ItemGTIN
                            label is "GTIN"
                        DerivedExtendedAmount
                            label is "ExtendedCost"
                visible when (ContractLineAndPurchaseOrderEntered)
                    header2 of "ContractLineInformation"
                    four column distributed
                        column1
                            paragraph
                                ContractLine
                                    label is "ContractLine"
                                    display as text
                                button of "ContractDetails"
                                    sub form is MoreNonServiceContractInformation
                                    display as link
                            ContractLine.DerivedRemainingQuantityOrdered
                                label is "QuantityRemaining"
                        column2
                            ContractLine.ItemNumber
                            DerivedContractLineUnitCost
                                label is "UnitCost"
                        column3
                            ContractLine.ServiceCode
                                label is "ServiceCode"
                            ContractLine.UOM.UnitOfMeasure
                                label is "UOM"
                        column4
                            ContractLine.LifetimeMaximumQuantity
                                label is "LifetimeMaximumQuantity"
            visible when (OnlyContractLineEntered)
                header2 of "InvoiceDetailInformation"
                four column distributed
                    column1
                        ContractLine
                            label is "Line"
                        PayablesInvoiceDetail.DerivedInvoiceLineQuantityWithPrecision
                            label is "Quantity"
                    column2
                        PayablesInvoiceDetail.ItemDescription
                            label is "Item"
                        PayablesInvoiceDetail.DerivedInvoiceLineUnitCostWithPrecision
                            label is "UnitCost"
                    column3
                        ContractLine.ItemDescription2
                            label is "GTIN"
                        PayablesInvoiceDetail.DerivedInvoiceLineUOM
                            label is "UOM"
                    column4
                        button of "InvoiceDetails"
                            link is PayablesInvoiceDrill
                            display as link
                        PayablesInvoiceDetail.DerivedExtendedAmountForMessage
                            label is "ExtendedCost"
                header2 of "ContractLineInformation"
                visible when (ContractLine.ServiceCode.Quantity)
                    four column distributed
                        column1
                            ContractLine
                                label is "ContractLine"
                                display as text
                            ContractLine.DerivedRemainingQuantityOrdered
                                label is "QuantityRemaining"
                        column2
                            ContractLine.ItemDescription
                            ContractLine.BaseCost
                                label is "BaseCost"
                        column3
                            ContractLine.ServiceCode
                            ContractLine.UOM.UnitOfMeasure
                                label is "UOM"
                        column4
                            ContractLine.LifetimeMaximumQuantity
                                label is "LifetimeMaximumQuantity"
                            ContractLine.CurrentNetCost
                                label is "LastMatchUnitCost"
                visible when (ContractLine.ServiceCode.Amount)
                    four column distributed
                        column1
                            ContractLine
                                label is "ContractLine"
                                display as text
                            ContractLine.DerivedRemainingAmountInUse
                                label is "AmountRemaining"
                        column2
                            ContractLine.ItemDescription
                            DerivedContractLineUnitCost
                                label is "UnitCost"
                        column3
                            ContractLine.ServiceCode
                            ContractLine.UOM.UnitOfMeasure
                                label is "UOM"
                        column4
                            ContractLine.LifetimeMaximumAmount
                                label is "LifetimeMaximumAmount"
                            ContractLine.MaximumLineAmountInUse
                                label is "AmountOrdered"
