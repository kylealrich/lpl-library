ResetAverageDailyBalance is a Form
    is primary
    title is "RebuildAverageDailyBalance"
    Layout
        single column
            visible when (ResetOption entered)
                visible when (not ResetOption.ResetAll)
                    visible when (not ResetOption.RebuildForAnAccount)
                        visible when (not ResetOption.CalculateUREDailyBalanceOnly)
                            text of "MakeSureLatestDailyBalanceHasBeenRunToIncludeBackpostedJournalsBeforePerformingRebuild"
                                bold
                                color of red
                                align as label
            FinanceEnterpriseGroup
                display as text
            visible when (FinanceEnterpriseGroup.NewAverageDailyBalanceProcess)
                ResetOption
                visible when (not ResetOption.ResetAll)
                    paragraph
                        ReportingBasis
                        ReportingBasis.ADBRunDate
                            label is "LastRunDate"
                            display as text
                        ReportingBasis.BasisYear
                            display as text
                    visible when (not ResetOption.RecalculateCurrentYear)
                        PrmFiscalYear
                visible when (ResetOption.RebuildForAnAccount)
                    AccountingEntity
                        label is "<FinanceEnterpriseGroup.AccountingEntityLabel>"
                    GeneralLedgerChartAccount
                        label is "<FinanceEnterpriseGroup.AccountLabel>"
                    visible when (FinanceEnterpriseGroup.ADBAccountWithDimension)
                        Dimension1
                            label is "<FinanceEnterpriseGroup.ADBDimensions.Dimension1.Label>"
                    visible when (FinanceEnterpriseGroup.ADBAccountWithTwoDimensions)
                        Dimension2
                            label is "<FinanceEnterpriseGroup.ADBDimensions.Dimension2.Label>"
                    visible when (FinanceEnterpriseGroup.ADBSelection.AccountAndThreeDimensions)
                        Dimension3
                            label is "<FinanceEnterpriseGroup.ADBDimensions.Dimension3.Label>"
            visible when (FinanceEnterpriseGroup.ExistingAverageDailyBalanceProcess)
                LimitedResetOption
                visible when (not LimitedResetOption.ResetAll)
                    paragraph
                        ReportingBasis
                        ReportingBasis.ADBRunDate
                            label is "LastRunDate"
                            display as text
                        ReportingBasis.BasisYear
                            display as text
                    PrmFiscalYear
                visible when (LimitedResetOption.RebuildForAnAccount)
                    AccountingEntity
                        label is "<FinanceEnterpriseGroup.AccountingEntityLabel>"
                        select is ReportingBasis.AccountingEntityTopNode.ChildrenRel.AverageDailyBalanceEntityList
                    GeneralLedgerChartAccount
                        label is "<FinanceEnterpriseGroup.AccountLabel>"
                        select is AverageDailyBalanceAccountList
                    visible when (FinanceEnterpriseGroup.ADBSelection.AccountAndAccountingUnit)
                        AccountingUnit
                            label is "<FinanceEnterpriseGroup.AccountingUnitLabel>"
                            select is AccountingEntity.AccountingUnitPostTypeByEntityRel.ADBPostingAccountingUnits
                    visible when (FinanceEnterpriseGroup.ADBSelection.AccountAndDimension1)
                        FinanceDimension1
                            label is "<FinanceEnterpriseGroup.FinanceDimension1Label>"
                            select is ADBFinanceDimension1List
