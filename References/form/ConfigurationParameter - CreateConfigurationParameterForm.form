CreateConfigurationParameterForm is a Form
    use for action Create
    title is "CreateConfigurationParameter"
    Layout
        paragraph
            UsePredefinedComponent
                label is "HowWouldYouLikeToCreateThisParameter?"
                    bold
                display as horizontal radio buttons
                initial value is 1
                when value changed
                    refresh CanEnterAdHoc
        visible when (UsePredefinedComponent.Predefined)
            valid when (CanEditCategory)
                paragraph
                    TConfigurationParameterCategory
                    visible when (TConfigurationParameterKey entered)
                        PreferredComponent
                            display as text
            valid when (CanEditKey)
                paragraph
                    TConfigurationParameterKey
                        when value changed
                            ConfigurationParameter.ConfigurationID =  DerivedRefreshCategory
                            Type =  TConfigurationParameterKey.PreferredDataType
                            refresh CanEnterAdHoc
        visible when (CanEnterAdHoc)
            visible when (UsePredefinedComponent.AdHoc)
                single column
                    valid when (not CategoryInContext)
                        ConfigurationParameter.ConfigurationID
                            label is "Component"
                            initial value is TConfigurationParameterCategory.ConfigurationParameterCategory
                            when value changed
                                refresh FixedSize
                                refresh PrecisionIsValid
                                refresh PreferredComponent
                                refresh ConfigurationParameterKeyExists
                                refresh ConfigurationParameterKeyRel.PreferredDataType.Name
                                TConfigurationParameterCategory =  ConfigurationParameterCategoryRel.ConfigurationParameterCategory
                                Type =  ConfigurationParameterKeyRel.PreferredDataType
            valid when (not KeyInContext)
                visible when (UsePredefinedComponent.Predefined)
                    paragraph
                        text of "This_Predefined_KeyAcceptsASuffixOrAPrefix.ToHelpCompleteYour_KeyEntryBelowReferenceThe_Key_Format_Example."
                            header4
                paragraph
                    ConfigurationParameter.Name
                        label is "Key"
                        show up to 200 characters
                        initial value is TConfigurationParameterKey.ConfigurationParameterKey
                        when value changed
                            refresh FixedSize
                            refresh PrecisionIsValid
                            refresh PreferredComponent
                            refresh ConfigurationParameterKeyExists
                            refresh ConfigurationParameterKeyRel.PreferredDataType.Name
                            TConfigurationParameterKey =  ConfigParamKey
                            Type =  ConfigurationParameterKeyRel.PreferredDataType
                    visible when (UsePredefinedComponent.Predefined)
                        TConfigurationParameterKey.FormatExample
                            label is "KeyFormatExample"
                            display as text
        paragraph
            Type
                when value changed
                    Length =  Type.MaxSize
                    refresh Value
            visible when (ConfigurationParameterKeyExists)
                ConfigurationParameterKeyRel.PreferredDataType.Name
                    label is "PreferredType"
                    display as text
        paragraph
            valid when (not FixedSize)
                Length
            valid when (PrecisionIsValid)
                Precision
        visible when (not TConfigurationParameterKey.HasStates)
            single column
                Value
                    show up to 200 characters
        visible when (TConfigurationParameterKey.HasStates)
            paragraph
                TConfigurationParameterKeyFieldState
                    when value changed
                        Value =  TConfigurationParameterKeyFieldState
                visible when (not TConfigurationParameterKey.StrictStates)
                    text of "_or_"
                    Value
                        when value changed
                            TConfigurationParameterKeyFieldState =  blank
        paragraph
            visible when (UsePredefinedComponent.Predefined)
                TConfigurationParameterKey.HelpText
                    display as text
        visible when (false)
            single column
                FixedSize
                PrecisionIsValid
                ConfigurationParameterKeyExists
