ContractAttachedContactForm is a Form
    use for action CreateAdHocContact
    use for action ChangeOrderCreateAdHocContact
    use for action Update
    title is "ContractContact"
    Layout
        display as text
            three column distributed
                column1
                    Contract.RepresentativeText
                    paragraph
                        visible when (ContactExists)
                            ContractAttachedContact
                                label is "ContractContact"
                            visible when (ContactFromRepository)
                                Contact
                column2
                    Contract.Supplier.RepresentativeText
                        label is "Supplier"
                column3
                    Contract.WorkingContractID
                    paragraph
                        Contract.Status
                            display as tag
                                color of turquoise when (Contract.ActivationInProgress)
                                color of brown when (Contract.ContractStatus.Draft)
                                color of green when (Contract.ContractStatus.Released)
                                color of orange when (Contract.ContractStatus.Negotiation)
                                color of yellow when (Contract.ContractStatus.FinalApproval)
                                color of blue when (Contract.ContractStatus.ReadyToActivate)
                                color of green when (Contract.ContractStatus.Active)
                                color of gray when (Contract.ContractStatus.Inactive)
                                color of purple when (Contract.ContractStatus.Addendum)
                                color of purple when (Contract.ContractStatus.Amendment)
                                color of black when (Contract.ContractStatus.Closed)
                        visible when (Contract.OnHold)
                            Contract.OnHoldMessage
                                no label
                                display as tag
                                    color of red
        header3 of "ContactDetails"
        visible when (ContactFromRepository)
            display as text
                DerivedName
                two column
                    DerivedEmail
                    DerivedPhone
            Address
                form is PostalAddressMinimum
        visible when (not ContactFromRepository)
            paragraph
                Name.GivenName
                    label is "FirstName"
                Name.FamilyName
                    label is "LastName"
            paragraph
                Email
                Phone
            Address
                form is PostalAddressMinimum
        single column
            ContactType
        paragraph
            visible when (ContactFromRepository)
                PrimaryContact
            SecondaryContact
            visible when (CanUseAdditionalSecurityAccessField)
                AdditionalSecurityAccess
                    display as text
        single column
            text of "SecondaryContactsWillReceiveAllEmailsThatAreSentToPrimaryContact"
                italics
            visible when (EligibleForSourcing)
                SSContact
                    label is "SendContactToSourcing"
            SupplierCanView
