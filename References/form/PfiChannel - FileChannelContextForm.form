FileChannelContextForm is a Form
    title is "FileChannel"
    restrict action TestConnectionWithTraceLog
        when (not FileChannel.FileChannelType.Remote)
    Layout
        single column
            PfiChannel
            Description
            IsEnabled
            blank line
            FileChannel.FileChannelType
            FileChannel.Directory
            FileChannel.FileMatchCaseSensitivity
            FileChannel.ErrorFileDirectory
        two column
            FileChannel.ProcessedFileDirectory
            FileChannel.AcceptEmptyDirectory
        single column
            FileChannel.FileAccessCheckTime
                label is "FileScanIntervalTimeInMinutes"
            FileChannel.LastFileScanTime
                display as text
            visible when (FileChannel.FileChannelType.Local)
                NotifyConnectLoss
                    label is "NotifyByEmail"
            visible when (FileChannel.FileChannelType.Remote)
                FileChannel.PfiConnectionProtocol.Host
                FileChannel.PfiConnectionProtocol.Protocol
                visible when (FileChannel.PfiConnectionProtocol.Protocol.Sftp)
                    FileChannel.PfiConnectionProtocol.EnableHostKeyChecking
                    visible when (FileChannel.PfiConnectionProtocol.EnableHostKeyChecking)
                        FileChannel.PfiConnectionProtocol.HostKeyPath
                    FileChannel.PfiConnectionProtocol.AuthenticationType
                FileChannel.PfiConnectionProtocol.User
                visible when (FileChannel.PfiConnectionProtocol.Protocol.Sftp)
                    visible when (FileChannel.PfiConnectionProtocol.AuthenticationType.UserAndPrivatekey)
                        FileChannel.PfiConnectionProtocol.PrivatekeyPath
                        FileChannel.PfiConnectionProtocol.Passphrase
                    visible when (FileChannel.PfiConnectionProtocol.AuthenticationType.UserAndPassword)
                        FileChannel.PfiConnectionProtocol.SftpPassword
                    visible when (FileChannel.PfiConnectionProtocol.AuthenticationType.UserPasswordAndPrivateKey)
                        FileChannel.PfiConnectionProtocol.SftpPassword
                        FileChannel.PfiConnectionProtocol.PrivatekeyPath
                        FileChannel.PfiConnectionProtocol.Passphrase
                FileChannel.PfiConnectionProtocol.TimeOut
                NotifyConnectLoss
                    label is "NotifyByEmail"
                FileChannel.PfiConnectionProtocol.TestFile
                visible when (FileChannel.PfiConnectionProtocol.TestFile)
                    FileChannel.PfiConnectionProtocol.DestinationFilePath
            visible when (FileChannel.FileChannelType.AmazonS3)
                FileChannel.PfiAmazonS3.BucketName
                FileChannel.PfiAmazonS3.Region
                FileChannel.PfiAmazonS3.AccessKey
                FileChannel.PfiAmazonS3.SecretKey
                FileChannel.PfiAmazonS3.SocketTimeout
                FileChannel.PfiAmazonS3.ConnectionTimeout
                FileChannel.PfiAmazonS3.RequestTimeout
                FileChannel.PfiAmazonS3.RetryCount
                FileChannel.PfiAmazonS3.RetryWaitTime
                FileChannel.PfiAmazonS3.MultiPartUpload
                    label is "EnableMultipartRead"
                NotifyConnectLoss
                    label is "NotifyByEmail"
                button of "TestConnection"
                    action is TestConnection
        two column
            visible when (FileChannel.FileChannelType.Remote)
                button of "TestConnection"
                    action is TestConnection
                button of "TestConnectionWithTraceLog"
                    action is TestConnectionWithTraceLog
