ContractTemplateComposite is a CompositeForm
    title is "<DisplayTemplate>"
    context form is ContractTemplateHeaderContext
        background is theme color
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Contract is a Panel
        form is ContractTemplate
    PurchaseTypeInformation is a Panel
        title is "PurchaseType"
        form is PurchaseTypeHeader
    Articles is a Panel
        list is ContractArticlesByDisplayRel.ContractArticles
            helper list is ArticleDisplayRel.ContractArticles
                action is AttachToContractWithTerms
                action is AttachToContractWithoutTerms
    Questions is a Panel
        visible when (CanUseQuestions)
        list is ContractQuestion set.ContractQuestions
            helper list is AllQuestionsRel.AttachToContractQuestions
                action is AttachQuestionToContract
    Participants is a Panel
        title is "Participants<ParticipantIndicator>"
        visible when (IsNotDistributorAndNotManufacturer)
        list is ContractParticipant set.ContractParticipants
    PricingIdentifiers is a Panel
        title is "PricingIdentifiers<PricingIdentifierIndicator>"
        visible when (IsDistributorContract)
        list is ContractDistributorPricing set.ContractDistributorPricing
    Tiers is a Panel
        title is "Tiers<TierIndicator>"
        visible when (IsManufacturerContract)
        list is ContractTier set.ContractTiers
    ManufacturerTierMembers is a Panel
        title is "Members<TierMemberIndicator>"
        visible when (IsManufacturerContract)
        list is ContractTierMember set.ContractTierMembers
    DistributorPricingMembers is a Panel
        title is "Members<PricingMemberIndicator>"
        visible when (IsDistributorContract)
        list is ContractDistributorPricingMember(Contract) set.ContractDistributorPricingMembers
    TemplateLines is a Panel
        title is "Lines"
        visible when (NonServicePurchaseType)
        list is ContractLine set.NonServiceContractLines
    TemplateServiceLines is a Panel
        title is "Lines"
        visible when (ServicePurchaseType)
        list is ContractLine set.ServiceContractLines
    TemplateNoContractLines is a Panel
        title is "Lines"
        visible when (not HasAPurchaseType)
        list is ContractLine set.ContractLines
    Contacts is a Panel
        list is ActiveContractContactsRel.AttachedContacts
    Comments is a Panel
        visible when (UseCommentsOnContract)
        list is ContractCommentRel.ContractComments
    Attachments is a Panel
        list is ContractAttachmentRel.ContractAttachmentList
    Retainage is a Panel
        visible when (UseRetainageOnContract)
        form is Retainage
    Milestones is a Panel
        visible when (UseMilestonesOnContract)
        list is ContractMilestone set.ContractTemplateMilestones
    Deliverables is a Panel
        visible when (UseDeliverablesOnContract)
        list is ContractDeliverable set.ContractTemplateDeliverables
    Commitments is a Panel
        visible when (IsNotDistributorAndNotManufacturerAndPurchaseType)
        form is PurchaseCommitments
    Pricing is a Panel
        visible when (IsNotDistributorAndNotManufacturerAndNotTemplateAndPurchaseType)
        list is ContractPricing set.ContractPricings
    Subcontractors is a Panel
        title is "Subcontractors<SubcontractorCount>"
        visible when (SubcontractorContract)
        list is ContractSubcontractor set.ContractSubcontractorList
            helper list is SubcontractorRels.SubcontractorActiveList
                action is AttachToContract
                valid when (not ContractInactiveClosed)
