StudentActivityReceiptContextForm is a Form
    title is "<mode>Receipt"
    Layout
        paragraph
            visible when (StudentRecord entered)
                StudentActivitySchool
                    label is "School"
                    display only
                    initial value is StudentRecord.StudentActivitySchool
            visible when (StudentRecord not entered)
                StudentActivitySchool
                    label is "School"
                    select is SchoolSelectList
            StudentActivitySchool.SchoolName
                no label
                display as text
            StudentActivitySchool.DefaultAccountingEntity.FunctionalCurrency
                label is "Currency"
                display as text
        paragraph
            visible when (not ReceiptExists)
                CurrentReceiptNumber
                    label is "Receipt"
                    display as text
                visible when (StudentActivitySchool.AllowReceiptNumberOverride)
                    StudentActivityReceipt
                        label is "OverrideReceiptNumber"
                visible when (StudentActivitySchool not entered)
                    StudentActivityReceipt
                        label is "OverrideReceiptNumber"
            visible when (ReceiptExists)
                StudentActivityReceipt
                    label is "Receipt"
                visible when (CreatedFromBatch)
                    StudentActivityReceiptBatch
                        label is "BatchNumber"
                        display as text
                Status
                    display as text
                visible when (not Status.Entered)
                    button of "PrintReceipt"
                        link is PrintActivityReceipt
        three column
            ReceiptAmount
            ReceiptDate
            ReferenceNumber
        paragraph
            SchoolAccountCode
                compact format
                select is ReceiptAccountCodeList
            SchoolAccountCode.StudentActivityAccountCode.Description
                no label
                display as text
        paragraph
            NSFRepayment
        visible when (EnteredReceipt)
            two column
                TotalDetailAmount
                    display as text
                visible when (OutOfBalance)
                    OutOfBalanceAmount
                        display as text
