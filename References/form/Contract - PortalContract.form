PortalContract is a CompositeForm
    title is "Contract<ContractNbr>"
    called out actions only
    context form is PortalContractContext
        background is theme color
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Actions
        navigation is ContractPreviewPortal
            label is "PrintContractNoLines"
        navigation is ContractPreviewWithLinesPortal
            label is "PrintContractWithLines"
        navigation is RedlineDocument
            label is "ViewCurrentRedlineDocument"
            hide when invalid
    TermsAndConditions is a Panel
        visible when (TermsExist)
        form is TermsAndConditions
    Retainage is a Panel
        visible when (UseRetainage)
        form is RetainageSummary
    Lines is a Panel
        visible when (ContractLinesExistNotCapitated)
        list is ContractLine set.SupplierPortalContractLineList
    CapitatedLines is a MultiListPanel
        title is "ProceduresAndComponents"
        visible when (DisplayCapitatedLines)
        list is ContractLine set.SupplierCapitatedProcedures
        list is ContractLine set.SupplierCapitatedComponents
    CapitatedComponentLines is a MultiListPanel
        title is "GroupsAndComponents"
        visible when (DisplayCapitatedComponentLines)
        list is ContractCapitatedComponentGroup set.SupplierContractCapitatedComponentGroupsCompOnly
    ChangeOrdersAndAllowances is a MultiListPanel
        visible when (AllowChangeOrder)
        list is ContractVersionsRel.SupplierContractChangeOrders
            visible when (AnyChangeOrderExists)
        list is ContractAllowance set.SupplierAllowancesForAContract
            visible when (HasAllowances)
    Contacts is a Panel
        visible when (ContractAttachedContactExist)
        list is SupplierContactRel.PortalSummaryAttachedContacts
    Comments is a Panel
        visible when (HasSupplierContractComments)
        list is SupplierContractCommentsRel.SupplierPortalContractCommentList
    Attachments is a Panel
        visible when (HasSupplierContractAttachments)
        list is SupplierContractAttachmentsRel.SupplierPortalContractAttachmentList
    Email is a Panel
        title is "EmailNotifications<EmailIndicator>"
        visible when (SupplierEmailExists)
        list is SupplierContractNotificationEmailRel.ContractNotificationEmails
    Invoices is a Panel
        visible when (ServiceInvoicesExist)
        list is ReleasedServiceInvoicesRel.SupplierPortalInvoiceInquiry
