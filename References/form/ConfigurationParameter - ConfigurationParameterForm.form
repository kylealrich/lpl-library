ConfigurationParameterForm is a Form
    is primary
    title is "ConfigurationParameter"
    Layout
        three column
            column1
                valid when (not CategoryInContext)
                    ConfigurationParameter.ConfigurationID
                        label is "Component"
                        initial value is TConfigurationParameterCategory.ConfigurationParameterCategory
                        when value changed
                            refresh FixedSize
                            refresh PrecisionIsValid
                            refresh PreferredComponent
                            refresh ConfigurationParameterKeyExists
                            refresh ConfigurationParameterKeyRel.PreferredDataType.Name
                            TConfigurationParameterCategory =  ConfigurationParameterCategoryRel.ConfigurationParameterCategory
                            Type =  ConfigurationParameterKeyRel.PreferredDataType
                valid when (not KeyInContext)
                    ConfigurationParameter.Name
                        label is "Key"
                        initial value is TConfigurationParameterKey.ConfigurationParameterKey
                        when value changed
                            refresh FixedSize
                            refresh PrecisionIsValid
                            refresh PreferredComponent
                            refresh ConfigurationParameterKeyExists
                            refresh ConfigurationParameterKeyRel.PreferredDataType.Name
                            TConfigurationParameterKey =  ConfigParamKey
                            Type =  ConfigurationParameterKeyRel.PreferredDataType
                visible when (CanEditKey)
                    TConfigurationParameterKey.FormatExample
                        label is "KeyFormatExample"
                Type
                    when value changed
                        Length =  Type.MaxSize
                        refresh Value
                valid when (not FixedSize)
                    Length
                valid when (PrecisionIsValid)
                    Precision
                visible when (not TConfigurationParameterKey.HasStates)
                    Value
                visible when (TConfigurationParameterKey.HasStates)
                    paragraph
                        TConfigurationParameterKeyFieldState
                            when value changed
                                Value =  TConfigurationParameterKeyFieldState
                        visible when (not TConfigurationParameterKey.StrictStates)
                            text of "_or_"
                            Value
                                when value changed
                                    TConfigurationParameterKeyFieldState =  blank
                TConfigurationParameterKey.HelpText
                visible when (false)
                    FixedSize
                    PrecisionIsValid
                    ConfigurationParameterKeyExists
            column2
                valid when (CanEditCategory)
                    TConfigurationParameterCategory
                valid when (CanEditKey)
                    TConfigurationParameterKey
                        when value changed
                            ConfigurationParameter.ConfigurationID =  DerivedRefreshCategory
                            Type =  TConfigurationParameterKey.PreferredDataType
                visible when (ConfigurationParameterKeyExists)
                    ConfigurationParameterKeyRel.PreferredDataType.Name
                        label is "PreferredDataType"
            column3
                PreferredComponent
