Main is a Form
    Layout
        single column
            visible when (not IsRecordExists)
                paragraph
                    Company
                    Company.Name
                        no label
                        display as text
                paragraph
                    InventoryLocation
                    InventoryLocation.Name
                        no label
                        display as text
                paragraph
                    Item
                        select is ItemsWithRecipe
                    Item.Description
                        no label
                        display as text
        visible when (Status.Open)
            four column distributed
                column1
                    StartDate
                column2
                    EndDate
                column3
                    DateNeeded
        visible when (not Status.Open)
            four column distributed
                column1
                    StartDate
                        display only
                column2
                    EndDate
                        display only
                column3
                    DateNeeded
                        display only
        header3 of "_"
        four column distributed
            column1
                visible when (Status.Open)
                    BatchQuantity
                        label is "PlannedBatchQuantity"
                visible when (not Status.Open)
                    BatchQuantity
                        label is "PlannedBatchQuantity"
                        display only
            column2
                visible when (not Status.Open)
                    ActualBatchQuantity
                        display only
            column3
                ServingSize
                    label is "ServingSize_(<ServingSizeUOM>)"
                    display as text
            column4
                visible when (IsRecordExists)
                    DerivedEstimatedServingYieldQuantity
                        label is "TotalServings"
                        display as text
        header3 of "_"
        visible when (IsRecordExists)
            six column
                column1
                    text of "_"
                    text of "StockQuantity_(<Item.StockUOM>)"
                    visible when (Item.SecondaryUOM entered)
                        text of "SecondaryQuantity_(<Item.SecondaryUOM>)"
                column2
                    paragraph centered
                        text of "YieldPer_\\Batch"
                    BatchYieldQuantity
                        no label
                        display only
                    visible when (Item.SecondaryUOM entered)
                        SecondaryYieldQuantity
                            no label
                            display only
                column3
                    paragraph centered
                        text of "Planned_\\Total_\\Yield"
                    PlanTotalYieldQuantity
                        no label
                        display only
                    visible when (Item.SecondaryUOM entered)
                        PlanTotalSecondaryYieldQuantity
                            no label
                            display only
                visible when (not Status.Open)
                    column4
                        paragraph centered
                            text of "Actual_\\Total_\\Yield"
                        ActualTotalYieldQuantity
                            no label
                            display only
                        visible when (Item.SecondaryUOM entered)
                            ActualTotalSecondaryYieldQuantity
                                no label
                                display only
                    column5
                        paragraph centered
                            text of "Waste_\\Recipe_\\Item_"
                        WasteQuantityInYieldUOM
                            no label
                            display only
                        visible when (Item.SecondaryUOM entered)
                            WasteQuantityInSecondaryUOM
                                no label
                                display only
        visible when (IsRecordExists)
            visible when (not ItemLocationRel.BinTracked)
                header2 of "_"
        visible when (Status.Open)
            two column
                column1
                    visible when (ItemLocationRel.BinTracked)
                        header2 of "_"
                    text of "Accounts"
                        header4
                        bold
                    KitchenOffsetAccount
                        compact format
                    WasteAccount
                        compact format
                    BurdenAbsorptionAccount
                        compact format
                visible when (ItemLocationRel.BinTracked)
                    column2
                        header2 of "_"
                        text of "Bin_\\Details"
                            header4
                            bold
                        paragraph
                            Bin
                            text of "or"
                            MultipleBins
            visible when (IsRecordExists)
                header2 of "_"
                text of "Notes"
                    header4
                    bold
                Notes
                    use text area of 4 lines
        visible when (not Status.Open)
            two column
                column1
                    visible when (ItemLocationRel.BinTracked)
                        header2 of "_"
                    text of "Accounts"
                        header4
                        bold
                    KitchenOffsetAccount
                        display only
                        compact format
                    WasteAccount
                        display only
                        compact format
                    BurdenAbsorptionAccount
                        display only
                        compact format
                visible when (ItemLocationRel.BinTracked)
                    column2
                        header2 of "_"
                        text of "Bin_\\Details"
                            header4
                            bold
                        paragraph
                            Bin
                            text of "or"
                            MultipleBins
            visible when (IsRecordExists)
                header2 of "_"
                text of "Notes"
                    header4
                    bold
                Notes
                    display only
                    use text area of 4 lines
        visible when (ValidForGeneration)
            header2 of "_"
            text of "IDM_Options"
                header4
                bold
            paragraph
                IDMPrinter
                    select is ActiveIDMPrinter
                IDMPrinter.Description
                    no label
                    display as text
                visible when (ValidForReGeneration)
                    button of "Update_Printer"
                        action is UpdatePrinter
