MPayablesInvoiceForm is a CompositeForm
    title is "<DerivedFormTitle>"
    context form is MPayablesInvoiceContextForm
    restrict action Unreleased.RouteForApproval
    Actions
        action is refresh
            label is "_"
        action is save
            label is "_"
            hide when invalid
        action is previous record
            label is "_"
        action is next record
            label is "_"
        action is TakeInvoiceOffHold
            hide when invalid
        action is ProcessVertex
            hide when invalid
        action is Approved.Release
            hide when invalid
        action is Unreleased.Release
            hide when invalid
        action is Amended.ReleaseAmendedInvoice
            hide when invalid
        action is CreateDetailFromContract
            hide when invalid
        action is PendingApproval.ReassignApprover
            hide when invalid
        navigation is RerouteInvoiceNav
            label is "RerouteInvoice"
            hide when invalid
            valid when (Status.PendingApproval)
        action is PendingApproval.ManualApprove
            hide when invalid
        action is PendingApproval.ManualApprovePlus
            hide when invalid
        action is PendingApproval.ManualReject
            hide when invalid
        action is EmailResponsiblePerson
            hide when invalid
        action is Unreleased.SubmitForApproval
            hide when invalid
        action is Unreleased.ApproveInvoice
            hide when invalid
        action is ProcessOneSource
            hide when invalid
        action is Rejected.RestoreRejectedInvoice
            hide when invalid
        action is AssignAPClerk
            hide when invalid
        action is ReassignAPClerk
            hide when invalid
        action is EmailInvoice
            hide when invalid
        action is EmailCreditMemoToVendor
            hide when invalid
        navigation is ChargesAndAllowances
            hide when invalid
        action is Approved.Match
            hide when invalid
        action is Released.Match
            hide when invalid
        action is Unreleased.Match
            hide when invalid
        action is OneSourceMatch
            hide when invalid
        action is VertexMatch
            hide when invalid
        action is CalculateRate
            hide when invalid
    Main is a Panel
        form is MMainFormWithTemplate
    Options is a Panel
        form is MPrimaryOptionsForm
    Payment is a Panel
        form is MPrimaryPaymentForm
    Additional is a Panel
        form is MPrimaryMatchForm
    Discount is a Panel
        form is MPrimaryDiscountForm
    Miscellaneous is a Panel
        form is MPrimaryMiscForm
    Rebate is a Panel
        visible when (CreditOrDebitMemo)
        form is MPrimaryRebateForm
    Distributions is a Panel
        title is "Distributions<DerivedDistributionIndicator>"
        visible when (ShowDistributionsPanel)
        list is PayablesInvoiceDistributionsDisplayOnInvoiceRel.MPayablesInvoiceDistributionsList
    AppliedCredits is a Panel
        title is "AppliedCredits<DerivedAppliedCreditCount>"
        visible when (HasCreditApplied)
        list is PayablesCreditMemoRel.CreditsAppliedList
    AppliedInvoices is a Panel
        title is "AppliedInvoices<DerivedAppliedInvoiceCount>"
        visible when (IsInvoiceApplied)
        list is PayablesCreditMemo2Rel.InvoicesAppliedList
    PurchaseOrders is a Panel
        title is "PurchaseOrders<DerivedPurchaseOrderIndicator>"
        visible when (ShowPurchaseOrderPanel)
        list is MatchPurchaseOrderInvoicesRel.MMatchPurchaseOrderInvoiceDetail
            helper list is VendorPurchaseOrdersRel.MMatchPurchaseOrderInvoiceHelperList
                action is CreateInvoicePurchaseOrder
                    invoked.Company = Company
                    invoked.PrmPayablesInvoice = PayablesInvoice
                valid when (AllowAdditionalPO)
    OriginalInvoice is a Panel
        title is "MemoDetails"
        visible when (MemoLawsonPo)
        list is MatchInvoiceReferenceRel.MMatchInvoiceReferenceWithDetails
            helper list is VendorNonPerfectMatchInvoicesRel.MMatchedInvoices
                action is CreateMatchReferenceInvoice
                    invoked.Company = Company
                    invoked.MemoInvoice = PayablesInvoice
                valid when (AllowAddOfInvoiceReference)
    InvoiceDetails is a MultiListPanel
        title is "ContractDetail"
        visible when (ShowContractDetailPanel)
        list is ContractLineRel.MContractLinesToInvoiceHelperList
    MemoContractDetails is a MultiListPanel
        title is "ContractDetail"
        visible when (ShowMemoContractDetailPanel)
        list is InvoiceDetailForContractRel.MMemoDetailList
            helper list is OriginalInvoiceDetailsRel.OriginalInvoiceHelperList
                action is CreateMemoCostAdjustment
                    invoked.MemoCompany = Company
                    invoked.MemoInvoice = PayablesInvoice
                action is CreateMemoQuantityAdjustment
                    invoked.MemoCompany = Company
                    invoked.MemoInvoice = PayablesInvoice
    MiscellaneousDetails is a Panel
        visible when (CanUseMiscellaneousDetail)
        list is MiscellaneousInvoiceDetailsRel.MMiscellaneousInvoiceDetails
    SpreadAddOnCharges is a Panel
        title is "SpreadAddOnCharges<DerivedSpreadAOCIndicator>"
        visible when (ShowSpreadForInvoice)
        list is PayablesInvoiceSpreadAddOnChargeRel.MPayablesInvoiceSpreadAddOnChargeInline
            helper list is PurchaseOrderSpreadAddOnChargeRel.PurchaseOrderSpreadAddOnChargeHelperList
                action is CreateInvoiceSpreadAddOnCharge
                    invoked.PayablesCompany = Company
                    invoked.PayablesInvoice = PayablesInvoice
    SpreadAddOnChargesCreditRebill is a Panel
        title is "SpreadAddOnCharges<DerivedSpreadAOCIndicator>"
        visible when (ShowAOCsForCreditOrDebit)
        list is PayablesInvoiceSpreadAddOnChargeRel.MMemoPayablesInvoiceSpreadAddOnCharges
            helper list is MatchInvoiceReferenceRel.OriginalInvoice.PayablesInvoiceSpreadAddOnChargeRel.PayablesInvoiceSpreadAddOnChargeHelperList
                action is CreditForRebill
                    invoked.MemoCompany = Company
                    invoked.MemoInvoice = PayablesInvoice
    MiscChargesAndAllowances is a Panel
        title is "MiscAddOnCharges<DerivedMiscDetailAOCIndicator>"
        visible when (ShowAOCsForInvoice)
        list is MiscPayablesInvoiceAddOnChargeRel.MMiscellaneousInvoiceAddOnCharges
            helper list is PurchaseOrderAddOnChargeRel.MiscellaneousAddOnChargesHelperList
                action is CreateInvoiceMiscellaneousAddOnCharges
                    invoked.PayablesCompany = Company
                    invoked.PayablesInvoice = PayablesInvoice
    MiscChargesAndAllowancesCreditRebill is a Panel
        title is "MiscAddOnCharges<DerivedMiscDetailAOCIndicator>"
        visible when (ShowAOCsForCreditOrDebit)
        list is MiscPayablesInvoiceAddOnChargeRel.MMemoMiscellaneousInvoiceAddOnCharges
            helper list is MatchInvoiceReferenceRel.OriginalInvoice.MiscPayablesInvoiceAddOnChargeRel.OriginalInvoiceMiscHelperList
                action is CreditForRebillMiscAOC
                    invoked.MemoCompany = Company
                    invoked.MemoInvoice = PayablesInvoice
    PaymentSchedule is a Panel
        title is "PaySchedule<DerivedPaymentIndicator>"
        list is PayablesInvoicePaymentRel.MPaymentSchedules
    RelatedDocuments is a Panel
        title is "RelatedDocuments<DerivedRelatedDocumentIndicator>"
        list is PayablesInvoiceDocument set.MPayablesInvoiceDocuments
    Chargebacks is a Panel
        visible when (ShowChargebackPanel)
        list is PayablesInvoiceChargebackRel.ChargebackMatchAnalysisList
    ReportableIncomeAdjustment is a Panel
        title is "AdjustIncome"
        mouse over text is "ReportableIncomeAdjustment"
        list is PayablesInvoicePaymentRel.MReportableIncomeAdjustments
    Comments is a Panel
        title is "Comments<DerivedCommentIndicator>"
        list is PayablesInvoiceCommentRel.MComment
    Messages is a Panel
        title is "Messages<DerivedMessageIndicator>"
        visible when (HasInvoiceMessages)
        list is MatchInvoiceMessageRel.MInvoiceMessageReview
    Errors is a Panel
        title is "Errors<DerivedErrorIndicator>"
        visible when (ErrorsExists)
        list is PayablesInvoiceError set.MPayablesInvoiceErrorList
    BudgetErrors is a Panel
        visible when (HeaderBudgetEditErrorExists)
        list is HeaderBudgetEditErrorRel.MBudgetEditErrorList
    WarningBudgetErrors is a Panel
        visible when (DistributionBudgetEditErrorExists)
        list is DistributionBudgetEditErrorRel.MBudgetEditErrorList
    ApprovalProgress is a Panel
        visible when (first PfiWorkunitRel.HasProcessIndicator)
        form is ProcessIndicatorForm
    ApprovalHistory is a Panel
        title is "ApprovalHistory"
        visible when (AuditExists)
        list is PayablesInvoiceAudit set.MPayablesInvoiceHistoryList
    OriginatingDocuments is a MultiListPanel
        visible when (ShowOriginatingDocuments)
        list is IntercompanyBillingDocumentRel.OriginatingJournalControlRel.MGeneralLedgerJournalList
            visible when (OriginatingICBIsFromGL)
        list is IntercompanyBillingDocumentRel.OriginatingInvoiceRel.MOriginatingPayablesInvoiceListForICB
            visible when (OriginatingICBIsFromInvoice)
        list is IntercompanyBillingDocumentRel.OriginatingReleasedDocumentListForICB
