Main is a Form
    Layout
        header2 of "Voucher"
        two column
            VoucherPrefix
            AllowConcurrentAPInvoiceInterface
        header2 of "Codes"
        header4 of "InvoiceAccrual"
        paragraph
            AccrualCode
                label is "InvoiceAccrualCode"
            PayablesAccrualCodeDetailRel.DistributionAccount
                label is "InvoiceAccrualAccount"
                compact format
            visible when (AccrualCode entered)
                PayablesAccrualCodeDetailRel.DistributionAccount.GeneralLedgerChartAccount.AccountDescription
                    display as text
            visible when (not HasAccrualCode)
                text of "AccrualCodeIsRequired"
                    color of red
            visible when (IncompleteAccrualCodeSetup)
                text of "AccrualCodeDetailDoesNotExistOrIsNotActive"
                    color of red
            visible when (IncorrectAccrualCodeDetailAccountingEntity)
                text of "AccountingEntityDoesNotMatchGlobalLedgerAccountingEntity<Company.AccountingEntity>"
                    color of red
        header4 of "MatchPrepayAccrual"
        paragraph
            MatchPrepayAccrualCode
                label is "MatchPrepayAccrualCode"
            PayablesMatchPrepayAccrualCodeDetailRel.DistributionAccount
                label is "InvoiceMatchPrepayAccrualAccount"
                compact format
            visible when (MatchPrepayAccrualCode entered)
                PayablesMatchPrepayAccrualCodeDetailRel.DistributionAccount.GeneralLedgerChartAccount.AccountDescription
                    display as text
            visible when (IncompleteMatchPrepayAccrualCodeSetup)
                text of "MatchPrepayAccrualCodeDetailDoesNotExistOrIsNotActive"
                    color of red
            visible when (IncorrectMatchPrepayAccrualCodeDetailAccountingEntity)
                text of "AccountingEntityDoesNotMatchGlobalLedgerAccountingEntity<Company.AccountingEntity>"
                    color of red
        header4 of "IncomeWithholding"
        single column
            GlobalWithholding
        paragraph
            IncomeWithholdingCode
            IncomeWithholdingCodeDetail.WithholdingAccount
                label is "InvoiceWithholdingAccount"
                compact format
            visible when (IncomeWithholdingCode entered)
                IncomeWithholdingCodeDetail.WithholdingAccount.GeneralLedgerChartAccount.AccountDescription
                    display as text
            visible when (IncompleteIncomeWithholdingCodeSetup)
                text of "IncomeWithholdingCodeDetailDoesNotExistOrIsNotActive"
                    color of red
            visible when (IncorrectIncomeWithholdingCodeDetailAccountingEntity)
                text of "AccountingEntityDoesNotMatchGlobalLedgerAccountingEntity<Company.AccountingEntity>"
                    color of red
        paragraph
            IncomeWithholdingPercent
                label is "WithholdingRate"
        paragraph
            SecondaryWithholding
                when value changed
                    refresh SecondaryWithholdingCodeRequired
        paragraph
            SecondaryWithholdingCode1
                label is "SecondaryWithholdingCodes"
                display as required when (SecondaryWithholdingCodeRequired)
                when value changed
                    refresh SecondaryWithholdingCodeRequired
            SecondaryWithholdingCode2
                no label
            SecondaryWithholdingCode3
                no label
            visible when (DisplaySecondaryWithholdingWarning)
                text of "<SecondaryWithholdingWarningMessage>"
                    color of red
        header3 of "Discount"
        paragraph
            DiscountCode
            PayablesDiscountCodeDetail.DiscountAccount
                compact format
            visible when (DiscountCode entered)
                PayablesDiscountCodeDetail.DiscountAccount.GeneralLedgerChartAccount.AccountDescription
                    display as text
            visible when (not HasDiscountCode)
                text of "DiscountCodeIsRequired"
                    color of red
            visible when (IncompleteDiscountCodeSetup)
                text of "DiscountCodeDetailDoesNotExistOrIsNotActive"
                    color of red
            visible when (IncorrectDiscountCodeDetailAccountingEntity)
                text of "AccountingEntityDoesNotMatchGlobalLedgerAccountingEntity<Company.AccountingEntity>"
                    color of red
        header3 of "RetainageAccrual"
        paragraph
            RetainageAccrualCode
            RetainageAccrualCodeDetailRel.DistributionAccount
                label is "RetainageAccrualAccount"
                compact format
            visible when (RetainageAccrualCode entered)
                RetainageAccrualCodeDetailRel.DistributionAccount.GeneralLedgerChartAccount.AccountDescription
                    display as text
            visible when (IncompleteRetainageAccrualCodeSetup)
                text of "RetainageAccrualCodeDetailDoesNotExistOrIsNotActive"
                    color of red
            visible when (IncorrectRetainageAccrualCodeDetailAccountingEntity)
                text of "AccountingEntityDoesNotMatchGlobalLedgerAccountingEntity<Company.AccountingEntity>"
                    color of red
        header3 of "Miscellaneous"
        paragraph
            CashCode
            CashCode.Description
                no label
                display as text
        paragraph
            InvoiceRoutingCategory
            InvoiceRoutingCategory.Description
                no label
                display as text
