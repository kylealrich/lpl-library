MobileContractForm is a Form
    title is "ContractForm"
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Layout
        single column
            Name
            paragraph
                visible when (CanChangeSupplier)
                    Supplier.SupplierNameID
                        display as text
                visible when (not CanChangeSupplier)
                    Supplier
                        select is MobileSuppliersSelect
                    Supplier.SupplierName
                        no label
                        align as label
                        display as text
        visible when (CanChangeSupplier)
            two column
                column1 of 50%
                    visible when (CanChangeSupplier)
                        SupplierSourceId.MainContact.FirstAndLastName
                            label is "*SupplierContact"
                            display as text
                column2 of 50%
                    paragraph
                        visible when (SupplierSourceId.TelephoneNumberEntered)
                            button of icon.phone
                                link is "tel:<SupplierSourceId.TelephoneNumber>"
                        visible when (SupplierSourceId.EmailAddressEntered)
                            button of icon.mail
                                link is "mailto:<SupplierSourceId.EmailAddress>"
                        button of icon.profile
                            link is SupplierContactNav
        visible when (not CanChangeSupplier)
            paragraph
                SupplierSourceId
                    label is "*SupplierContact"
                    select is MobileSupplierContactSelect
                SupplierSourceId.MainContact.FirstAndLastName
                    no label
                    align as label
                    display as text
            paragraph
                visible when (SupplierSourceId.TelephoneNumberEntered)
                    button of icon.phone
                        link is "tel:<SupplierSourceId.TelephoneNumber>"
                visible when (SupplierSourceId.EmailAddressEntered)
                    button of icon.mail
                        link is "mailto:<SupplierSourceId.EmailAddress>"
                button of icon.profile
                    link is SupplierContactNav
        visible when (PrimaryContactExists)
            two column
                column1 of 50%
                    PrimaryContactRel.DerivedPrimaryName
                        label is "InternalContact"
                        display as text
                column2 of 50%
                    paragraph
                        visible when (PrimaryContactRel.PhoneNumberExists)
                            button of icon.phone
                                link is "tel:<PrimaryContactRel.DerivedPhone>"
                        visible when (PrimaryContactRel.EmailAddressExists)
                            button of icon.mail
                                link is "mailto:<PrimaryContactRel.DerivedEmail>"
                        button of icon.profile
                            link is PrimaryContactNav
        visible when (not PrimaryContactExists)
            single column
                PurchasingContact
                    label is "PrimaryInternalContact"
                    select is MobileAttachEmployeesToContract
        single column
            Description
                use text area
            ContractType
                label is "*ContractType"
                select is MobileBuyerContractTypesSelect
            ContractSubtype
                select is MobileBuyerContractSubtypeSelect
            ContractClassification
                label is "*ContractClassification"
                select is MobieBuyerContractClassificationSelect
            ContractSubclassification
                select is MobileBuyerContractSubclassificationSelect
            paragraph
                CurrencyCode
                    select is MobileCurrencySelect
                CurrencyCode.Description
                    no label
                    display as text
        two column
            column1 of 50%
                EffectiveDate
                ContractReviewDate
                    label is "ReviewDate"
            column2 of 50%
                ExpirationDate
        single column
            Stockless
            visible when (not PricingManagerRoleOnlyExists)
                visible when (not MultiTierDistributorContract)
                    ManufacturerOrDistributor.ManufacturerContract
                        label is "ManufacturerContract"
            visible when (not PricingManagerRoleOnlyExists)
                visible when (not MultiTierDistributorContract)
                    ManufacturerOrDistributor.DistributorContract
                        label is "DistributorContract"
            GPONegotiated
            visible when (GPONegotiated)
                paragraph
                    GPOSupplier.Supplier
                        label is "GPOSupplier"
                        select is MobileGPOSuppliersSelect
                    GPOSupplier.Supplier.SupplierName
                        no label
                        display as text
                paragraph
                    GroupPurchasingOrganization.Vendor
                        label is "GPOVendor"
                        select is MobileVendorSelectSearch
                    GroupPurchasingOrganization.Vendor.VendorName
                        no label
                        display as text
            paragraph
                CommodityCode
                    compact format
                    select is MobileCommodityCodeSelect
                CommodityCode.Description
                    no label
                    display as text
            paragraph
                visible when (CanDisplayInvoiceAllowedDate)
                    FirstInvoiceAllowedDate
                    LastInvoiceAllowedDate
            visible when (ClosedDate entered)
                ClosedDate
                    display as text
            YellowAlert
                label is "YellowAlert_(DaysBeforeContractExpirationDate)"
            RedAlert
                label is "RedAlert_(DaysBeforeContractExpirationDate)"
            visible when (DisplayTermsNeedToBeNegotiated)
                EventTermsNeedToBeNegotiated
                    display as text
                EventTermsHaveBeenNegotiated
        two column
            column1 of 50%
                ProposedTotalContractAmount
                    label is "ProposedTotalAmount"
                visible when (not ContractTypeAllowsZeroMaxQuantity)
                    TotalLineMaximumAmount
                        display as text
            column2 of 50%
                visible when (CanUpdateMaximumAmount)
                    MaximumAmount
                visible when (not CanUpdateMaximumAmount)
                    MaximumAmount
                        display as text
                visible when (HasChild)
                    TotalChildMaximumAmount
        single column
            StandardCommentCode
                label is "CommentCode"
                select is MobileCommentCodeSelect
            visible when (BlanketOrStanding)
                paragraph
                    visible when (BlanketPurchaseType)
                        LastPORelease
                            display as text
                    POCode
                        select is MobilePOCodeSelect
            visible when (BlanketOrStandingOrServices)
                paragraph
                    Buyer
                        select is MobileBuyerSelect
                    Buyer.Employee.PresentationNameSnapshot
                        no label
                        display as text
            visible when (StandingPurchaseType)
                header4 of "Standing"
                single column
                    ScheduleFrequency
                    MaximumReleaseNumber
                    DoNotIssue
                    visible when (HasBeenActivated)
                        LastReleaseDate
                            display as text
                        LastPORelease
                            display as text
            visible when (not ServicePurchaseType)
                paragraph
                    FreightTerm
                        label is "FreightTerms"
                        select is MobileFreightTermSelect
                    FreightTerm.Description
                        no label
                        display as text
                paragraph
                    ShipTerm
                        label is "ShipTerms"
                        select is MobileShipTermsSelect
                    ShipTerm.Description
                        no label
                        display as text
            visible when (BlanketOrStandingOrServices)
                single column
                    ProcessLevelGroup.Company
                        label is "ProcessLevelCompany"
                        select is MobilePayablesCompanySelect
                paragraph
                    ProcessLevelGroup.ProcessLevel
                    ProcessLevelGroup.ProcessLevel.Name
                        no label
                        display as text
            paragraph
                ParentContract
                    select is MobileNotClosedContracts
                ParentContract.Name
                    no label
                    display as text
            PaymentDueDays
        two column
            column1 of 50%
                visible when (ContractExists)
                    ApprovalStatus
                        display as text
                FinalApprovalStatus
                    display as text
            column2 of 50%
                visible when (ContractExists)
                    NegotiationStatus
                        display as text
        two column
            column1 of 50%
                PreviousState
                    display as text
            column2 of 50%
                ContractSource
                    display as text
        visible when (ProposedByRequester)
            single column
                text of "ProposalRequester"
                ProposalRequester.Name
                    display as text
                ProposalRequester.EmailAddress
                    display as text
