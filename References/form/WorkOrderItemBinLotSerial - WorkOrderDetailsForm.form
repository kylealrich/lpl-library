WorkOrderDetailsForm is a Form
    title is "WorkOrderDetails"
    Layout
        three column distributed
            column1
                Company.DerivedCompanyDisplay
                    label is "Company"
                    display as text
                InventoryLocation.DerivedInventoryLocationIDName
                    label is "Location"
                    display as text
            column2
                paragraph
                    WorkOrder
                        label is "WorkOrderNumber"
                        display as text
                visible when (TransientDetailType.Component)
                    paragraph
                        WorkOrderItem.Item
                            display as text
                        WorkOrderItem.Item.Description
                            no label
                            display as text
                visible when (TransientDetailType.FinishedGood)
                    paragraph
                        WorkOrder.Item
                            label is "Item"
                            display as text
                        WorkOrder.Item.Description
                            no label
                            display as text
                visible when (TransientDetailType.Byproduct)
                    paragraph
                        WorkOrderByproduct.Item
                            label is "Item"
                            display as text
                        WorkOrderByproduct.Item.Description
                            no label
                            display as text
            column3
                visible when (RecordExists)
                    WorkOrderItemBinLotSerial.DetailType
                        label is "DetailType"
                        display as text
                visible when (not RecordExists)
                    TransientDetailType
                        label is "DetailType"
                        display as text
        header2 of "_"
        text of "_"
        two column distributed
            column1
                visible when (TransientDetailType.FinishedGood)
                    visible when (WorkOrder.ItemLocation.IsLotTracked)
                        WorkOrderItemBinLotSerial.Lot
                            label is "Lot"
                            display as required when (IsLotTracked)
                            when value changed
                                refresh IsLotTracked
                        WorkOrderItemBinLotSerial.Sublot
                            label is "Sublot"
                        LotExpirationDate
                            label is "LotExpirationDate"
                    visible when (WorkOrder.ItemLocation.BinTracked)
                        WorkOrderItemBinLotSerial.Bin
                            label is "Bin"
                            display as required when (IsBinTracked)
                            when value changed
                                refresh IsBinTracked
                    visible when (WorkOrder.ItemLocation.IsSerialTracked)
                        visible when (WorkOrder.ItemLocation.SerialTracked.SerialRequiredAtIssue)
                            AutoAssignQuantity
                                label is "AutoAssignQuantity"
                        WorkOrderItemBinLotSerial.Serial
                            label is "Serial"
                            select is WorkOrderItemSerialNumberRel.CompanySerialsWithDetail
                            display as required when (IsSerialTracked)
                            when value changed
                                refresh IsSerialTracked
                    visible when (not WorkOrder.ItemLocation.IsSerialTracked)
                        Quantity
                            label is "Quantity"
                        ActualQuantity
                            label is "ActualQuantity"
                        WorkOrderItemBinLotSerial.UnitOfMeasure
                            label is "UnitOfMeasure"
                            display as required when (IsUnitOfMeasureIsRequired)
                            when value changed
                                refresh IsUnitOfMeasureIsRequired
                visible when (TransientDetailType.Byproduct)
                    visible when (WorkOrderByproduct.ItemLocation.IsLotTracked)
                        WorkOrderItemBinLotSerial.Lot
                            label is "Lot"
                            display as required when (IsLotTracked)
                            when value changed
                                refresh IsLotTracked
                        WorkOrderItemBinLotSerial.Sublot
                            label is "Sublot"
                        LotExpirationDate
                            label is "LotExpirationDate"
                    visible when (WorkOrderByproduct.ItemLocation.BinTracked)
                        WorkOrderItemBinLotSerial.Bin
                            label is "Bin"
                            display as required when (IsBinTracked)
                            when value changed
                                refresh IsBinTracked
                    visible when (WorkOrderByproduct.ItemLocation.IsSerialTracked)
                        AutoAssignQuantity
                            label is "AutoAssignQuantity"
                        WorkOrderItemBinLotSerial.Serial
                            label is "Serial"
                            select is WorkOrderItemSerialNumberRel.CompanySerialsWithDetail
                            display as required when (IsSerialTracked)
                            when value changed
                                refresh IsSerialTracked
                    visible when (not WorkOrderByproduct.ItemLocation.IsSerialTracked)
                        ActualQuantity
                            label is "ActualQuantity"
                        WorkOrderItemBinLotSerial.UnitOfMeasure
                            label is "UnitOfMeasure"
                            display as required when (IsUnitOfMeasureIsRequired)
                            when value changed
                                refresh IsUnitOfMeasureIsRequired
                visible when (TransientDetailType.Component)
                    visible when (WorkOrderItem.ItemLocationRel.IsLotTracked)
                        WorkOrderItemBinLotSerial.Lot
                            label is "Lot"
                            display as required when (IsLotTracked)
                            when value changed
                                refresh IsLotTracked
                        WorkOrderItemBinLotSerial.Sublot
                            label is "Sublot"
                        LotExpirationDate
                            label is "LotExpirationDate"
                    visible when (WorkOrderItem.ItemLocationRel.BinTracked)
                        WorkOrderItemBinLotSerial.Bin
                            label is "Bin"
                            display as required when (IsBinTracked)
                            when value changed
                                refresh IsBinTracked
                    visible when (WorkOrderItem.ItemLocationRel.IsSerialTracked)
                        AutoAssignQuantity
                            label is "AutoAssignQuantity"
                        WorkOrderItemBinLotSerial.Serial
                            label is "Serial"
                            select is WorkOrderItemSerialNumberRel.CompanySerialsWithDetail
                            display as required when (IsSerialTracked)
                            when value changed
                                refresh IsSerialTracked
                    visible when (not WorkOrderItem.ItemLocationRel.IsSerialTracked)
                        StockOnHandDetailRel.AvailableQuantity
                            label is "AvailableQuantity"
                            display as text
                        Quantity
                            label is "Quantity"
                            display as required when (IsCatchWeightQuantityEntered)
                            when value changed
                                refresh IsCatchWeightQuantityEntered
                        WorkOrderItemBinLotSerial.UnitOfMeasure
                            label is "UnitOfMeasure"
                            display as required when (IsUnitOfMeasureIsRequired)
                            when value changed
                                refresh IsUnitOfMeasureIsRequired
                    visible when (WorkOrderItem.Item.IsCatchWeightItem)
                        CatchWeightQuantity
                            label is "CatchWeightQuantity"
                            display as required when (IsCatchWeightQuantityRequired)
                            when value changed
                                refresh IsCatchWeightQuantityRequired
                    visible when (IsProductionFeedbackInProcess)
                        ActualQuantity
                            label is "ActualQuantity"
                            display as required when (IsActualQuantityRequired)
                            when value changed
                                refresh IsActualQuantityRequired
                        WorkOrderItemBinLotSerial.UnitOfMeasure
                            label is "UnitOfMeasure"
                        ActualCatchWeightQuantity
                            label is "ActualCatchWeightQuantity"
                            display as required when (IsActualCatchWeightQuantityRequired)
                            when value changed
                                refresh IsActualCatchWeightQuantityRequired
                        WasteQuantity
                            label is "WasteQuantity"
                            display as required when (IsWasteQuantityRequired)
                            when value changed
                                refresh IsWasteQuantityRequired
                        WasteCatchWeightQuantity
                            label is "WasteCatchWeightQuantity"
                            display as required when (IsWasteCatchWeightQuantityRequired)
                            when value changed
                                refresh IsWasteCatchWeightQuantityRequired
            column2
                visible when (IsPickingFeedbackInProcess)
                    paragraph
                        WorkOrderItem.PickedQuantity
                            label is "QuantityNeeded"
                            display as text
                    paragraph
                        WorkOrderItem.DetailQuantity
                            label is "QuantityAssigned"
                            display as text
                visible when (TransientDetailType.FinishedGood)
                    paragraph
                        WorkOrder.ActualQuantity
                            label is "QuantityNeeded"
                            display as text
                    paragraph
                        WorkOrder.QuantityAssigned
                            label is "QuantityAssigned"
                            display as text
                visible when (WorkOrderItem.WorkOrder.ProductionFeedbackStatus.InProcess)
                    paragraph
                        visible when (not IsSerialTracked)
                            WorkOrderItem.ActualQuantity
                                label is "ActualQuantity"
                                display as text
                    paragraph
                        WorkOrderItem.WasteQuantity
                            label is "WasteQuantity"
                            display as text
                visible when (TransientDetailType.Byproduct)
                    paragraph
                        WorkOrderByproduct.ActualQuantity
                            label is "QuantityNeeded"
                            display as text
                    paragraph
                        WorkOrderByproduct.QuantityAssigned
                            label is "QuantityAssigned"
                            display as text
