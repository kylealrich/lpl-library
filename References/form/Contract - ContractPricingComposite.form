ContractPricingComposite is a CompositeForm
    title is "<DisplayContract>"
    context form is ContractContext
        background is theme color
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Actions
        action is Draft.Release
            action icon is release
            hide when invalid
        action is Draft.RenewalRelease
            action icon is release
            hide when invalid
        action is Amendment.Release
            action icon is release
            hide when invalid
        action is Addendum.Release
            action icon is release
            hide when invalid
        action is ReadyToActivate.Activate
            hide when invalid
            valid when (not HasMembersToRelease)
        action is Active.CreateAddendum
            action icon is undo
            hide when invalid
        action is Active.CreateAmendment
            action icon is undo
            hide when invalid
        action is RemoveContractHold
            action icon is undo
            hide when invalid
            valid when (CanRemoveHold)
        action is Inactive.ReactivateContract
            action icon is undo
            label is "Reactivate"
            hide when invalid
            valid when (ContractStatus.Inactive)
        action is Inactive.ReactivateAddendum
            action icon is undo
            label is "Reactivate"
            hide when invalid
            valid when (ContractStatus.Inactive)
        action is Inactive.ReactivateAmendment
            action icon is undo
            label is "Reactivate"
            hide when invalid
            valid when (ContractStatus.Inactive)
        action is CloseContract
            action icon is finalize
            hide when invalid
            valid when (ContractActiveOrInactive)
        action is refresh
        action is save
    Contract is a Panel
        form is Contract
    AlertLinks is a Panel
        visible when (ShowInformationLinksForm)
        form is AlertLinks
    AlertLists is a MultiListPanel
        visible when (ShowInformationMultiListPanel)
        list is BudgetEditErrorRel.primary
            visible when (BudgetErrorsExist)
            panel text is "BudgetsExceeded;_ContractCanNotActivate"
        list is WarningBudgetEditErrorRel.primary
            visible when (WarningBudgetErrorsExist)
        list is ContractLinePriceChangeRel.ToleranceErrors
            visible when (ToleranceErrorsExist)
            panel text is "CostUpdateToleranceErrors"
        list is ContractLineManualPriceChangeRel.ManualToleranceErrors
            visible when (ManualToleranceErrorsExist)
            panel text is "ManualCostUpdateToleranceErrors"
        list is DistributorContractLinesMfgVendItemAndVendorItemMatchRels.DistributorContractLinesWithMatchingVendorAndManufacturerItems
            visible when (HasLinesWithMatchingVendorAndManufacturerItems)
            panel text is "AssignVendorItems"
        list is DistributorContractLineMemberRel.MembersToUpdateForDistributor
            visible when (ManufacturerWithLineMembers)
            panel text is "UpdateContractLineMembersForDistributor"
        list is ModifiedContractLineMemberRel.ModifiedContractLineMembers
            visible when (HasModifiedPricing)
            panel text is "ModifiedContractLineMembers"
        list is DistributorContractLineRel.ContractLinesToUpdateToDistributor
            visible when (ManufacturerModificationsToPush)
            panel text is "UpdateDistributorDetails"
    PurchaseTypeInformation is a Panel
        title is "PurchaseType"
        form is PurchaseTypeHeader
    Participants is a Panel
        title is "Participants<ParticipantIndicator>"
        visible when (IsNotDistributorAndNotManufacturerAndNotService)
        list is ContractParticipant set.ContractParticipants
    Lines is a Panel
        title is "Lines<LineIndicator>"
        visible when (NonServicePurchaseType)
        list is ContractLine set.NonServiceContractPricingLines
    ServiceLines is a Panel
        title is "Lines<LineIndicator>"
        visible when (ServicePurchaseType)
        list is ContractLine set.ServiceContractPricingLines
    NoContractLines is a Panel
        title is "Lines<LineIndicator>"
        visible when (not HasAPurchaseType)
        list is ContractLine set.ContractPricingLines
    Contacts is a Panel
        title is "Contacts<AttachedContactCount>"
        list is ActiveContractContactsRel.AttachedContacts
    Comments is a Panel
        title is "Comments<CommentCount>"
        visible when (UseCommentsOnContract)
        list is ContractCommentRel.ContractComments
    Commitments is a Panel
        title is "Commitments<CommitmentIndicator>"
        visible when (IsNotDistributorAndNotManufacturerAndPurchaseType)
        form is PurchaseCommitments
    Pricing is a Panel
        title is "Pricing<PricingCount>"
        visible when (IsNotDistributorAndNotManufacturerAndNotTemplateAndPurchaseType)
        list is ContractPricing set.ContractPricings
    Subcontractors is a Panel
        title is "Subcontractors<SubcontractorCount>"
        visible when (SubcontractorContract)
        list is ContractSubcontractor set.ContractSubcontractorList
            helper list is SubcontractorRels.SubcontractorActiveList
                action is AttachToContract
                valid when (not ContractInactiveClosed)
