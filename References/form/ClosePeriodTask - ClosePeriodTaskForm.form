ClosePeriodTaskForm is a CompositeForm
    is primary
    title is "<TaskName>ForPeriod<ClosePeriod.CloseCalendarPeriod>_<ClosePeriod.CloseCalendar>"
    context form is ClosePeriodTaskContext
        background is theme color
    restrict action StartWork
    restrict action StartWorkLate
    restrict action Take
    restrict action ReassignToTeam
    restrict action ReassignForResource
    restrict action ReopenForResource
    restrict action ResubmitForApproval
    restrict action VoidOneTimeTask
    restrict action UpdateEstimate
    restrict action CloseTask
    restrict action Attachment
    Actions
        action is SendMessage
        action is Reminder
        action is WorkRequest
        action is Reassign
            hide when invalid
        action is refresh
            label is "_"
    Metrics is a Panel
        visible when (ClosedTask)
        form is ClosePeriodTaskMetrics
    AtAGlance is a Panel
        form is ClosePeriodTaskAtAGlance
    JournalEntryDetail is a Panel
        visible when (HasJournalEntries)
        list is ClosePeriodTaskJournal set.ClosePeriodTaskListByJournal
    Owner is a Panel
        visible when (TaskOwner entered)
        form is ClosePeriodTaskOwnerForm
    TeamOwner is a Panel
        visible when (TaskOwner not entered)
        list is FinanceTeamMemberRel.TeamMemberDrillList
    Approvals is a MultiListPanel
        visible when (ApprovalsNeeded)
        list is OneTimeTaskApprovalResource set.OneTimeTaskApprovers
            visible when (OneTimeTask)
            show 8 lines
        list is TaskCompletionApprovalResource set.TaskCompletionApprovers
            visible when (RequiresApproval)
            show 8 lines
    ApprovalHistory is a MultiListPanel
        visible when (HasApprovalHistory)
        list is OneTimeTaskApprovalHistoryRel.OneTimeTaskApprovalHistory
            visible when (HasOneTimeTaskApprovalHistory)
            show 8 lines
        list is TaskCompletionApprovalHistoryRel.TaskCompletionApprovalHistory
            visible when (HasTaskCompletionApprovalHistory)
            show 10 lines
    Reconciliations is a Panel
        visible when (IsTaskForPeriodReconciliationNotInConsolidatedGroup)
        list is PeriodEndReconciliationNotInConsolidatedGroupRel.AccountPeriodReconciliationForCloseManagement
    ConsolidatedReconciliations is a Panel
        visible when (IsTaskForPeriodReconciliationConsolidatedGroup)
        list is PeriodEndReconciliationForConsolidatedGroupRel.ConsolidatedPeriodReconciliationForCloseManagement
    NonAccountReconciliations is a Panel
        visible when (IsTaskForPeriodReconciliationNonAccount)
        list is PeriodEndReconciliationNonAccountRel.NonAccountPeriodReconciliationForCloseManagement
    Prerequisite is a Panel
        visible when (HasPrerequisite)
        list is ClosePeriodTaskPrerequisite set.ClosePeriodTaskPrerequisiteList
    Dependency is a Panel
        visible when (HasDependent)
        list is DependentTaskRel.ClosePeriodTaskDependencyList
    ProcessDocuments is a Panel
        visible when (ShowProcessDoco)
        list is ProcessDocumentationRel.ViewProcessDocumentation
    SupportingDocuments is a Panel
        visible when (ShowSupportingDoco)
        list is SupportingDocumentationRel.ViewSupportingDocumentation
    PercentageHistory is a Panel
        visible when (ShowPercentCompleteHistory)
        list is TaskPercentCompleteRel.primary
    ReopenHistory is a Panel
        visible when (ReopenedMultiples)
        list is ReasonCodeUsageReopenRel.ReopenReasonCodeUsageList
    TaskIssues is a Panel
        title is "Issues"
        visible when (HasClosePeriodTaskIssue)
        list is ClosePeriodTaskIssueRel.primary
