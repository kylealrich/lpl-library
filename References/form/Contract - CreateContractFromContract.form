CreateContractFromContract is an ActionForm
    action is Draft.CreateContractFromContract
        on completion navigate to ViewContract
    title is "CreateContractFromContract"
    Layout
        header2 of "NewContractValues"
        paragraph
            ContractGroup
            ContractGroup.ProcurementGroup.Description
                no label
                display as text
        paragraph
            FromContract
                select is AllContracts
            FromContract.Name
                no label
                display as text
            visible when (FromContract.NotClosed)
                CloseExistingLines
                    label is "CloseFromContract"
            visible when (not FromContract.OnHold)
                visible when (FromContract.NotClosed)
                    HoldExistingLines
                        label is "HoldFromContract"
                    visible when (HoldExistingLines)
                        ProcurementReasonCode
                        ProcurementReasonCode.Description
                            no label
                            display as text
        visible when (FromContract.IsManufacturerContract)
            paragraph
                CreateAsManufacturerContract
                    label is "KeepAsAManufacturerContract"
                visible when (CreateAsManufacturerContract)
                    visible when (FromContract.HasDistributorContract)
                        CreateDistributorContracts
                            label is "AssociateWithCurrentDistributorContracts"
        visible when (FromContract.IsDistributorContract)
            paragraph
                CreateDistributorContracts
                    label is "KeepAsADistributorContract"
        single column
            NewName
                label is "Name"
            NewDescription
                label is "Description"
        paragraph
            NewContact
                label is "PrimaryInternalContact"
            NewContact.FirstLastName
                no label
                display as text
        paragraph
            NewSupplier
                label is "Supplier"
            NewSupplier.SupplierName
                no label
                display as text
            NewSupplierContact
                label is "SupplierContact"
            NewSupplierContact.MainContact.FirstAndLastName
                no label
                display as text
        two column
            NewContractType
                label is "ContractType"
                select is BuyerContractTypesSelect
            NewContractSubtype
                label is "ContractSubtype"
                select is BuyerContractSubtypeSelect
        two column
            NewContractClassification
                label is "ContractClassification"
                select is BuyerContractClassificationSelect
            NewContractSubclassification
                label is "ContractSubclassification"
                select is BuyerContractSubclassificationSelect
        paragraph
            NewContractHasNoParent
                label is "NewContractDoesNotHaveAParentContract"
            visible when (not NewContractHasNoParent)
                NewParentContract
                    label is "ParentContract"
                    select is NotClosedContracts
                NewParentContract.Name
                    no label
                    display as text
                visible when (FromContract.HasParent)
                    FromContract.ParentContract
                        label is "ParentContract_onFromContract;WillDefault"
                        display as text
        header2 of "NewContractDates"
        three column
            NewEffectiveDate
                label is "EffectiveDate"
            NewExpirationDate
                label is "ExpirationDate"
            NewContractReviewDate
                label is "ContractReviewDate"
        visible when (FromContract.TargetedDatesRequired)
            two column
                NewTargetedPurchasesFromDate
                    label is "TargetedPurchasesFromDate"
                NewTargetedPurchasesToDate
                    label is "TargetedPurchasesToDate"
        two column
            CopyHoldForLines
                label is "KeepLinesOnHold"
            visible when (FromContract.HasTierQualifierContracts)
                visible when (CopySelectAll)
                    CopyQualifierContractsAndItems
                visible when (CopyTiersOrDistributorPricing)
                    CopyQualifierContractsAndItems
        header2 of "CopyOptions"
        single column
            CopySelectAll
                label is "SelectAll"
        two column
            CopyArticlesAndTerms
                label is "ArticlesAndTerms"
            CopyContractComments
                label is "Comments"
            CopyContractAttachments
                label is "Attachments"
            CopyContractParticipants
                label is "Participants/Members"
            CopyContacts
                label is "Contacts"
            visible when (CopyContacts)
                visible when (FromContract.HasContactWithAdditionalSecurityAccess)
                    CopyAdditionalSecurityAccessContacts
                        label is "AdditionalSecurityAccessContacts"
            CopyContractLines
                label is "ContractLines"
            CopyManualQuestions
                label is "ManuallyAddedQuestions"
            CopyMilestones
                label is "Milestones"
            CopyDeliverables
                label is "Deliverables"
            CopyTiersOrDistributorPricing
                label is "TiersOrDistributorPricing"
            CopyManufacturerContracts
                label is "ManufacturerContracts"
            CopyContractLineComments
                label is "LineComments"
            CopyContractLineAttachments
                label is "LineAttachments"
            visible when (FromContract.CapitatedContract)
                CopyCapitatedInformation
            CopyLocations
                label is "Locations"
