PrimaryOptionsForm is a Form
    Layout
        header2 of "AddOnCharge"
        paragraph
            TransientAddOnCharge
            TransientProrateAmount
            TransientProrateAccount
                compact format
        header2 of "DiscountInformation"
        two column distributed
            column1
                paragraph
                    DiscountCode
                    DiscountCode.Description
                        no label
                        display as text
                paragraph
                    AllowableAmountForDiscount
                        label is "AllowableAmount"
                        display as text
                    visible when (DisplayChangeDiscountButton)
                        button of "ChangeDiscount(s)"
                            action is ChangeDiscount
                            is primary
                paragraph
                    FloatDays
                    FlexTerms
                        label is "FlexibleTerms"
                    Anticipation
                        label is "Anticipate"
            column2
                visible when (DiscountInformationEntered)
                    paragraph
                        DiscountDate
                            label is "Date"
                            display only
                        DiscountPercent
                            label is "Percent"
                            display only
                        DiscountAmount.CurrencyAmount
                            label is "Amount"
                            display only
                visible when (Discount2InformationEntered)
                    paragraph
                        DiscountDate2
                            no label
                            display only
                        DiscountPercent2
                            no label
                            display only
                        DiscountAmount2
                            no label
                            display only
                visible when (Discount3InformationEntered)
                    paragraph
                        DiscountDate3
                            no label
                            display only
                        DiscountPercent3
                            no label
                            display only
                        DiscountAmount3
                            no label
                            display only
        visible when (TaxEntityUsesThirdPartyTax)
            header2 of "TaxInformation"
            display as text
                three column distributed
                    column1
                        paragraph
                            TaxCode
                                label is "InvoiceTaxCode"
                            TaxCode.Description
                                no label
                        TransientTaxPointDate
                    column2
                        TaxableAmount
                            label is "InvoiceTaxableAmount"
                        TotalTaxableAmount
                    column3
                        visible when (MatchProcessType.Expense)
                            TaxAmount
                                display as text
                        visible when (not MatchProcessType.Expense)
                            DerivedMatchInvoiceTaxAmount
                                label is "InvoiceTaxAmount"
                        DerivedTotalTaxAmountField
        header2 of "Codes"
        three column distributed
            column1
                paragraph
                    visible when (IsOnHold)
                        InvoiceHoldCode
                            label is "HoldCode"
                            display as text
                        button of "TakeOffHold"
                            action is TakeInvoiceOffHold
                            is primary
                    button of "PutOnHold"
                        visible when (IsManualHoldable)
                        action is PutInvoiceOnHold
                        is primary
                paragraph
                    AuthorityCode
                    AuthorityCode.Description
                        no label
                        display as text
                paragraph
                    DiversityCode
                    DiversityCode.Description
                        no label
                        display as text
                    button of "UpdateDiversityCode"
                        visible when (UpdateDiversityCodeValid)
                        action is UpdateDiversityCode
                        display as link
            column2
                paragraph
                    AccrualCode
                    AccrualCode.Description
                        no label
                        display as text
                paragraph
                    RetainageAccrualCode
                    RetainageAccrualCode.Description
                        no label
                        display as text
                paragraph
                    ReasonCode
                    ReasonCode.Description
                        no label
                        display as text
            column3
                paragraph
                    visible when (InvoiceType.MatchPrepayment)
                        AccrualCodeProjectOverride
        visible when (CanViewRebateFields)
            header2 of "RebateReceivedInformation"
            paragraph
                ContractRebateGroup.ContractGroup
                ContractRebateGroup.ContractGroup.BusinessGroup.Description
                    no label
                    display as text
                ContractRebateGroup.Contract
                ContractRebateGroup.Contract.Name
                    no label
                    display as text
                ContractRebateGroup.ContractRebateType
                    label is "RebateType"
                ContractRebateGroup.ContractRebateType.Description
                    no label
                    display as text
                ContractRebateGroup.ContractRebateDue
                    label is "DueDate"
                    select is ContractRebatesDue
        visible when (InvoiceSource.ImagingSystem)
            header2 of "DocumentManagementInterface"
            display as text
                two column distributed
                    column1
                        ScanDate
                        ExternalReasonCode
                    column2
                        AlphaAttribute1
                        ExternalReason
        visible when (IDMPrinterValidForSetup)
            header2 of "Printer"
            paragraph
                IDMPrinter
                IDMPrinter.Description
                    no label
                    display as text
        header2 of "Miscellaneous"
        two column distributed
            column1
                InvoiceReference
                    label is "ReferenceType"
                paragraph
                    BillFromLocation
                        label is "BillFrom"
                    BillFromLocation.VendorName
                        no label
                        display as text
                ReceiptOfInvoiceDate
                    label is "InvoiceReceiptDate"
                paragraph
                    CertificationNumber
                    CertificationDate
                visible when (InvoiceType.CreditMemo)
                    paragraph
                        PrintChargeback
                            label is "PrintCreditMemo"
                        VendorReturn
                            label is "VendorReturnNumber"
                            select is VendorReturnsByCompanyVendorRel.VendorReturnList
                        VendorReturn.ReferenceNumber
                            no label
                            display as text
            column2
                Reference
                paragraph
                    BillToProcessLevel
                        label is "BillTo"
                    BillToProcessLevel.Name
                        no label
                        display as text
                paragraph
                    PurchaseFromLocation
                        label is "PurchaseFrom"
                    PurchaseFromLocation.VendorName
                        no label
                        display as text
                RetailAmount
                visible when (Vendor.RequireMatchReference)
                    MatchReferenceNumber
