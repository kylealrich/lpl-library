StudentActivityBankTransactionContextForm is a Form
    title is "<BankTransactionType>"
    Layout
        three column table
            column1
                paragraph
                    StudentActivitySchool
                        label is "School"
                        select is SchoolSelectList
                paragraph
                    StudentActivityBankAccount
                        label is "BankAccount"
                        select is StudentActivityBankAccountSelectList
                paragraph
                    BankTransactionType
                        label is "TransactionType"
                        display as text
                paragraph
                    StudentActivityBankTransaction
                        label is "TransactionNumber"
                        display as text
                paragraph
                    Description
                visible when (AdjustmentDisbursement)
                    paragraph
                        SchoolAccountCode.StudentActivityAccountCode
                visible when (BankTransactionType.NSFRecord)
                    paragraph
                        NSFRelatedReceiptRecord
                            label is "RelatedReceiptRecord"
                            select is StudentActivityDepositedReceiptList
                visible when (BankTransactionType.NSFRecord)
                    paragraph
                        NSFReDeposit
                            label is "CreateNewReceiptForRedeposit"
            column2
                paragraph
                    StudentActivitySchool.SchoolName
                        no label
                        display as text
                paragraph
                    StudentActivityBankAccount.Description
                        no label
                        display as text
                paragraph
                    TransactionDate
                paragraph
                    Status
                        display as text
                paragraph
                    TransactionAmount
                        label is "Amount"
                visible when (AdjustmentDisbursement)
                    paragraph
                        SchoolAccountCode.StudentActivityAccountCode.Description
                            no label
                            display as text
                visible when (BankTransactionType.NSFRecord)
                    paragraph
                        NSFPaymentNumber
                            label is "ReturnedPaymentNumber"
                visible when (BankTransactionType.NSFRecord)
                    visible when (NSFReDepositReceiptNumber entered)
                        paragraph
                            NSFReDepositReceiptNumber
                                label is "NewReceiptNumber"
                                display only
            column3
                paragraph
                    TransactionCurrencyCode
                        label is "Currency"
                        display as text
                blank line
                paragraph
                    visible when (LaserCheckImageExists)
                        button of "<ViewCheckMessage>"
                            view PrintedLaserCheck.File
                    visible when (CheckCanBePrinted)
                        button of "ClosePaymentRecord"
                            action is Released.ClosePaymentRecord
                paragraph
                    visible when (ReleasedCheckRecord)
                        CheckStatus
                            no label
                            align as label
                            display as text
                    visible when (Status.Reconciled)
                        ReconciledDate
                            align as label
                            display as text
                    visible when (Status.Voided)
                        VoidDate
                            align as label
                            display as text
                AmountType
                    display as text
        visible when (EnteredDepositDisbursementTransfer)
            header3 of "TransactionDetails"
            paragraph
                visible when (BankTransactionType.Deposit)
                    TotalReceipts
                        display as text
                visible when (BankTransactionType.Disbursement)
                    TotalDetailAmount
                        display as text
                visible when (TransferHeader)
                    TotalTransferToAmount
                        display as text
                OutOfBalanceAmount
                    display as text
        visible when (BankTransactionType.NSFRecord)
            header3 of "BankFee"
            two column
                column1
                    paragraph
                        NSFFeeTransactionNumber
                            label is "FeeTransactionNumber"
                    paragraph
                        NSFFeeAccount
                            label is "FeeAccount"
                            compact format
                            select is SchoolActivityAccountSelectList
                    paragraph
                        NSFStudentRecord
                            label is "ChargeFeeToStudent"
                            select is StudentBySchoolList
                column2
                    NSFFeeAmount
                        label is "FeeAmount"
                    paragraph
                        NSFFeeAccount.Description
                            no label
                            align as label
                            display as text
                    paragraph
                        NSFStudentRecord.StudentFirstName
                            no label
                            align as label
                            display as text
                        NSFStudentRecord.StudentLastName
                            no label
                            align as label
                            display as text
