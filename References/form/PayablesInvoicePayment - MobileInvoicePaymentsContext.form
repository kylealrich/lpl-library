MobileInvoicePaymentsContext is a Form
    title is "InvoicePayment"
    restrict action Create
    restrict action Delete
    Actions
        action is save
            label is "_"
            hide when invalid
        action is previous record
            label is "_"
            hide when invalid
        action is next record
            label is "_"
            hide when invalid
        action is refresh
            label is "_"
        action is PutOnHold
            hide when invalid
        action is TakeOffHold
            hide when invalid
        action is UpdateIncomeCodeAndReportableAmount
    Layout
        header2 of "InvoiceInformation"
        display as text
            two column distributed
                PayablesInvoice.Company
                PayGroup
            two column distributed
                PayablesInvoice.Invoice
                    label is "Invoice"
                PayablesInvoice.Vendor
            two column distributed
                Status
                PayablesInvoice.InvoiceAmount.CurrencyAmount
                    label is "InvoiceAmount"
            two column distributed
                PayablesInvoicePayment.PaymentSequence
                PayablesInvoice.TotalPaymentAmount.TransactionTotal
                    label is "TotalPaymentAmount"
            two column distributed
                column1
                    visible when (PayablesInvoice.IsRecurringInvoice)
                        Suffix
                            label is "suffix"
                        PayablesInvoice.RemitToCode
                column2
                    visible when (PayablesInvoice.PaymentsAreOutOfBalance)
                        PayablesInvoice.PaymentOutOfBalanceAmount
                            label is "PaymentOutOfBalanceAmount"
                                bold
                                color of red
        header2 of "PaymentInformation"
        single column
            DueDate
            CashCode.Currency
                label is "CashCodeCurrency"
                display as text
        two column distributed
            PaymentAmount.CurrencyAmount
                label is "PaymentAmount"
            InvoiceCurrency
                no label
                display as text
        two column distributed
            CashCode
            CashCode.Description
                no label
                display as text
        two column distributed
            BankTransactionCode
                label is "PaymentCode"
                select is CashPaymentsOrBillOfExchangePayments
            BankTransactionCode.Description
                no label
                display as text
        two column distributed
            VendorPaymentAmount
            VendorPaymentCurrency
                no label
        single column
            visible when (BankCheckAmountEntered)
                NetVendorPaymentAmount
                    display as text
        two column distributed
            PayVendor
                display as text
            PayVendor.VendorName
                no label
                display as text
        single column
            InvoiceGroup
            display as text
                first PayablesOnHoldRel.HoldCode
        two column distributed
            IncomeCode
            IncomeCode.Description
                no label
                display as text
        single column
            ReportableIncomeAmount
        two column distributed
            FATCAIncomeCode
            FATCAIncomeCode.Description
                no label
                display as text
        single column
            FATCABaseIncomeAmount
                label is "FATCAFunctionalIncomeAmount"
            FATCATransactionIncomeAmount
            valid when (not PayablesInvoice.IsCreditInvoice)
                SeparatePayment
            PayImmediately
            Enclosure
            visible when (IsSplitPayment)
                PayablesInvoice.NumberOfSplitPayments
                    display as text
                PayablesInvoice.SplitPaymentSchedule
                    display as text
        header2 of "CurrencyInformation"
        visible when (false)
            single column
                PayablesInvoice.InvoiceAmount.AssignToCurrency
                PaymentAmount.AssignToCurrency
                RevaluedBaseAmount.AssignToCurrency
                DiscountAmount.AssignToCurrency
                NetPaymentAmount.AssignToCurrency
        display as text
            two column distributed
                InvoiceCurrency
                PayablesInvoice.InvoiceAmount.FunctionalAmount.EnteredCurrencyAmount
                    label is "FunctionalInvoiceAmount"
            two column distributed
                Company.GeneralLedgerCompany.Currency
                    label is "FunctionalCurrency"
                PaymentAmount.FunctionalAmount.EnteredCurrencyRate
                    label is "CurrencyExchangeRate"
            two column distributed
                PayablesInvoice.RevalueCurrency
                NetPaymentAmount.FunctionalAmount.EnteredCurrencyAmount
                    label is "FunctionalNetPaymentAmount"
                    display as text
            two column distributed
                NetPaymentAmount.CurrencyAmount
                    label is "NetPaymentAmount"
                    display as text
                PaymentAmount.FunctionalAmount.EnteredCurrencyAmount
                    label is "FunctionalPaymentAmount"
            two column distributed
                BankCheckAmount
                    label is "BankPaymentAmount"
                    display as text
                RevaluedBaseAmount.FunctionalAmount.EnteredCurrencyAmount
                    label is "RevaluedFunctionalAmount"
            single column
                DiscountAmount.FunctionalAmount.EnteredCurrencyAmount
                    label is "FunctionalDiscountAmount"
                    display as text
                visible when (false)
                    NetPaymentAmount.AssignToCurrency
        header2 of "Discount"
        two column distributed
            DiscountDate
            DiscountPercent
        single column
            TransientAllowableAmount
                label is "AllowableAmount"
            DiscountAmount.CurrencyAmount
                label is "DiscountAmount"
            Anticipation
        header2 of "PaymentTransactionDetail"
        display as text
            two column distributed
                column1
                    TransactionNumber
                    DerivedCheckAmount
                        label is "PaymentAmount"
                column2
                    CheckDate
                    CreditOrInvoiceAppliedMessage
                        no label
            single column
                button of "ViewPaymentTransaction"
                    visible when (HasCheck)
                    link is CashLedgerPayablesPaymentForm
                    display as link
                button of "ApplyToReservedPayment"
                    visible when (ApplyableToReserved)
                    link is ApplyReservedPayment
                    display as link
                button of "ApplyToManualPayment"
                    visible when (ApplyableToNonReserved)
                    link is ApplyPayment
                    display as link
            single column
                CashLedgerPayablesPaymentRel.CashLedgerTransactionIdentifier
                visible when (HasCheck)
                    PaymentStatus
        visible when (IsDraftPayment)
            header2 of "BillOfExchange"
            display as text
                single column
                    DerivedDraftNumber
                        label is "BillOfExchangeNumber"
                    DerivedDraftSuffix
                        no label
                    DerivedDraftDate
                        label is "DraftDate"
