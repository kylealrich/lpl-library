PortalApprovalPayablesInvoiceDistribution is a Form
    title is "InvoiceDistribution"
    restrict action UpdateAccount
    Actions
        action is previous record
            label is "_"
            hide when invalid
        action is next record
            label is "_"
            hide when invalid
        action is Create
            action icon is create
            label is "_"
            hide when invalid
        action is save
            label is "_"
            hide when invalid
        action is save and new
            label is "_"
            hide when invalid
    Layout
        header2 of "InvoiceInformation"
        display as text
            three column distributed
                column1
                    PayablesInvoice.DerivedCompanyNameID
                        label is "Company"
                    PayablesInvoice.DerivedVendorNameID
                    paragraph
                        PayablesInvoice.Invoice
                        PayablesInvoiceDistribution
                            label is "DistributionSequence"
                column2
                    Status
                    DistributionDate
                        label is "PostDate"
                    PayablesInvoice.VoucherNumberDisplay
                        label is "Voucher"
                column3
                    PayablesInvoice.InvoiceAmount.CurrencyAmount
                        label is "InvoiceAmount"
                    paragraph
                        PayablesInvoice.TaxAmount
                            label is "InvoiceTaxAmount"
                        visible when (PayablesInvoice.TaxIsOutOfBalance)
                            PayablesInvoice.TaxOutOfBalanceAmount
                                label is "Out_ofBalance"
                                display as tag
                                    color of red when (PayablesInvoice.TaxIsOutOfBalance)
                    paragraph
                        PayablesInvoice.TotalDistributionAmount.TransactionTotal
                            label is "TotalDistributions"
                        visible when (PayablesInvoice.MatchProcessType.Expense)
                            visible when (PayablesInvoice.DistributionsAreOutOfBalance)
                                PayablesInvoice.DistributionOutOfBalanceAmount
                                    label is "Out_ofBalance"
                                    display as tag
                                        color of red when (PayablesInvoice.DistributionsAreOutOfBalance)
        header2 of "DistributionInformation"
        paragraph
            GLFinanceCodeBlock
                label is "FinanceStructure"
                compact format
            GLFinanceCodeBlock.GeneralLedgerChartAccount.AccountDescription
                display as text
        three column distributed
            GLTransactionAmount
                label is "Amount"
            UnitAmount
            PayablesInvoice.DerivedRemainingDistributionAmount
                label is "RemainingAmountToBeDistributed"
                display as tag
                    color of green when (not PayablesInvoice.DistributionsAreOutOfBalance)
                    color of red when (PayablesInvoice.DistributionsAreOutOfBalance)
        three column distributed
            TaxCode
                select is TaxCodeFilteredList
            TaxableAmount
            paragraph
                TaxUsageCode
                    label is "TaxUsage"
                TaxType
                    label is "Type"
                    display as text
        three column distributed
            AddOnCharge
            TransientAOCAmount
            visible when (PayablesInvoice.MatchProcessType.ServiceContract)
                ContractLine
                    select is ContractLinesForInvoiceRel.ContractLinesToInvoiceHelperList
            visible when (PayablesInvoice.PurchaseOrderInvoice)
                PurchaseOrderLine
                    select is PurchaseOrderLinesForInvoiceRel.PurchaseOrderLinesList
        three column distributed
            Description
            DistributionReference
                label is "Reference"
