MPrimaryPaymentForm is a Form
    title is "PrimaryPaymentForm"
    Layout
        header2 of "PaymentSettings"
        visible when (not ViewFieldOnly)
            two column distributed
                column1
                    CashCode
                column2
                    CashCode.Description
                        no label
                        display as text
            single column
                CashCode.Currency
                    label is "CashCodeCurrency"
                    display as text
            two column distributed
                column1
                    BankTransactionCode
                        select is CashPaymentsOrBillOfExchangePayments
                column2
                    BankTransactionCode.Description
                        no label
                        display as text
            two column distributed
                column1
                    VendorPaymentAmount
                column2
                    VendorPaymentCurrency
        visible when (ViewFieldOnly)
            two column distributed
                column1
                    CashCode
                        display as text
                column2
                    CashCode.Description
                        no label
                        display as text
            two column distributed
                column1
                    BankTransactionCode
                        label is "PaymentCode"
                        display as text
                column2
                    BankTransactionCode.Description
                        no label
                        display as text
            two column distributed
                column1
                    VendorPaymentAmount
                        display as text
                column2
                    VendorPaymentCurrency
                        display as text
            single column
                CashCode.Currency
                    label is "CashCodeCurrency"
                    display as text
        visible when (not ViewFieldOnly)
            header2 of "ManualPaymentInformation"
            single column
                TransientPaymentNumber
                    display as required when (TransientPaymentNumberRequired)
                    when value changed
                        refresh TransientPaymentAmountRequired
                        refresh TransientPaymentDateRequired
                        refresh TransientPaymentNumberRequired
                visible when (not ViewFieldOnly)
                    single column
                        visible when (HasManualPaymentAvailableForDelete)
                            button of "RemoveManualPayment"
                                visible when (HasManualPaymentAvailableForDelete)
                                action is RemoveManualPayment
                                display as link
                        visible when (IsManualPaymentNumberReservation)
                            button of "ViewReservedPayments"
                                visible when (IsManualPaymentNumberReservation)
                                link is ManuallyReservedPayments
                                display as link
                TransientPaymentDate
                    label is "Date"
                    display as required when (TransientPaymentDateRequired)
                    when value changed
                        refresh TransientPaymentAmountRequired
                        refresh TransientPaymentNumberRequired
                        refresh TransientPaymentDateRequired
                TransientPaymentAmount
                    label is "Amount"
                    display as required when (TransientPaymentAmountRequired)
                    when value changed
                        refresh TransientPaymentNumberRequired
                        refresh TransientPaymentDateRequired
                        refresh TransientPaymentAmountRequired
        visible when (ViewFieldOnly)
            header2 of "PaymentInformation"
            two column distributed
                column1
                    DerivedPaymentsAppliedTotal
                        label is "PaymentInvoiceAmount"
                        display as text
                    DerivedNetPaymentsAppliedTotal
                        label is "NetPaymentAmount"
                        display as text
                column2
                    DerivedActualCheckAmountTotal
                        label is "TotalCheckAmount"
                        display as text
            visible when (not MultiplePayablesInvoicePaymentRelExists)
                two column distributed
                    column1
                        TransientPaymentNumber
                            display as text
                        visible when (ViewFieldOnly)
                            paragraph
                                visible when (not MultiplePayablesInvoicePaymentRelExists)
                                    visible when (HasManualPaymentAvailableForDelete)
                                        button of "RemoveManualPayment"
                                            visible when (HasManualPaymentAvailableForDelete)
                                            action is RemoveManualPayment
                                            display as link
                                    visible when (CashLedgerPaymentsExist)
                                        first PaymentsHaveBeenAppliedRel.PaymentStatus
                                            display as text
                    column2
                        TransientPaymentDate
                            label is "PaymentDate"
                            display as text
            visible when (MultiplePayablesInvoicePaymentRelExists)
                text of "MultiplePaymentsExistUsePayScheduleToViewDetails"
                    bold
        header2 of "ProcessingOptions"
        two column distributed
            TransientVendorPriority
                label is "PaymentPriority"
            InvoiceGroup
        visible when (not PayablesInvoicePaymentRelExists)
            two column distributed
                column1
                    OverrideSeparatePayment
                        label is "SeparatePayment"
                    OverridePayImmediately
                        label is "PayImmediately"
                column2
                    OverrideEnclosure
                        label is "Enclosure"
        single column
            SecondaryWithholding
                label is "SecondaryWithholding"
        visible when (IsVendorWithholdingIncomeNoOverride)
            two column distributed
                column1
                    IncomeWithholdingCode
                        display as text
                column2
                    IncomeWithholdingCode.Description
                        no label
                        display as text
        visible when (Vendor.AllowWithholdingCodeOverride)
            two column distributed
                IncomeWithholdingCode
                    label is "VendorWithholdingCode"
                    select is VendorWithholdingCodeList
                IncomeWithholdingCode.Description
                    no label
                    display as text
        visible when (DisplaySplitPaymentInfo)
            header2 of "SplitPaymentDetail"
                single column
                    NumberOfSplitPayments
                        display as text
                    SplitPaymentSchedule
                        display as text
                    visible when (DisplaySplitPaymentInfo)
                        visible when (IsSplitable)
                            button of "ChangeSplitPayments"
                                action is SetupSplitPayments
        visible when (not DisplaySplitPaymentInfo)
            visible when (IsSplitable)
                paragraph
                    button of "SplitPayments"
                        action is SetupSplitPayments
        visible when (DisplayRecurringInformation)
            header2 of "RecurringInvoiceOptions"
            visible when (IsRecurrable)
                two column distributed
                    RecurringFrequency
                        display as required when (RecurringFrequencyRequired)
                        when value changed
                            refresh NumberOfRecurrencesRequired
                            refresh RecurringFrequencyRequired
                    NumberOfRecurringInvoices
                        label is "NumberOfRecurrences"
                        display as required when (NumberOfRecurrencesRequired)
                        when value changed
                            refresh RecurringFrequencyRequired
                            refresh NumberOfRecurrencesRequired
            visible when (not IsRecurrable)
                two column distributed
                    RecurringFrequency
                        display as text
                    NumberOfRecurringInvoices
                        label is "NumberOfRecurrences"
                        display as text
        header2 of "BankInstructions"
        single column
            BankInstructions1
                label is "1"
            BankInstructions2
                label is "2"
            BankInstructions3
                label is "3"
            BankInstructions4
                label is "4"
