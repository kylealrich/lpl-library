CreateAndNavigateToRTMPayment is an ActionForm
    action is CreateAndNavigateToRTMPayment
        on completion navigate to RTMPaymentNav
            suppress completion message
    title is "RTMPayment"
    Layout
        visible when (HasRTMs)
            text of "RTM_PaymentAlreadyExists._Press_SubmitToNavigateToTheRTM_PaymentForm."
                header4
                bold
        visible when (not HasRTMs)
            three column distributed
                column1
                    paragraph
                        Company
                            display as text
                            select is Companies
                        Company.Name
                            no label
                            display as text
                        Company.Currency
                            no label
                            display as text
                    visible when (IsTypeCustomerPayment)
                        paragraph
                            Customer
                                display as text
                            Customer.Name
                                no label
                                display as text
                    visible when (IsNonAR)
                        paragraph
                            text of "NonARPayment"
                column2
                    paragraph
                        PaymentNumber
                            label is "Payment"
                            display as text
                        OriginalCurrency
                            no label
                            display as text
                    ReturnDate
                        display as required when (true)
                column3
                    ReceivablePaymentHeader
                        label is "Batch"
                        display as text
                    PrmAutoRelease
                        label is "ReleaseUponSubmit"
            header2 of "Main"
            three column distributed
                column1
                    ReceivableProcessLevel
                        label is "ProcessLevel"
                        display as text
                    ReturnToMakerTransactionAmount
                        label is "PaymentAmount"
                        display as text
                    PrmDescription
                        label is "Description"
                    visible when (IsTypeCustomerPayment)
                        PrmRevalueCurrencyTransactions
                            label is "RevalueCurrencyTransactions"
                column2
                    GeneralLedgerDate
                        label is "PaymentPostDate"
                        display as text
                    visible when (IsTypeCustomerPayment)
                        AppliedAmount
                            label is "AppliedAmount"
                            display as text
                    visible when (IsTypeCustomerPayment)
                        PrmTextCode
                            label is "TextCode"
                            compact format
                            select is CompanyRTMPaymentLanguageTextRel.ReturntoMakerTextCodeMaintenance
                    visible when (IsTypeCustomerPayment)
                        visible when (not AvailableAdjustmentsForRTMRelExists)
                            text of "NoAdjustmentsAreAvailableToBillback."
                                bold
                        visible when (AvailableAdjustmentsForRTMRelExists)
                            PrmBillback
                                label is "Billback"
                                display as required when (true)
                                when value changed
                                    PrmAutoRelease =  false
                                        when (PrmBillback.NoOnlyBillSelectedAdjusts)
                    visible when (IsNonARNotFundAccountingEnabled)
                        PrmDeriveNonARDistributions
                            label is "DeriveDistributions"
                            when value changed
                                PrmAutoRelease =  false
                                    when (not PrmDeriveNonARDistributions)
                column3
                    PostDate
                        label is "ReturnPostDate"
                    paragraph
                        PrmAdditionalAmount
                            label is "ServiceChargeAmount"
                        PrmChargeBank
                            label is "BillServiceCharge"
                    paragraph
                        PrmFeeAmount
                            label is "FeeAmount"
                        PrmBillFee
                            label is "BillFee"
            visible when (IsTypeCustomerPayment)
                visible when (AvailableAdjustmentsForRTMRelExists)
                    text of "_"
                    text of "AdjustmentsAreAvailableToBillback.The_BillbackFieldIsRequired.Choose_Bill_Back_All_AdjustmentsToSelectAllAdjustments,_Bill_No_AdjustmentsToSelectNoAdjustments,Or_Only_Bill_Selected_AdjustmentsToChooseWhich_(IfAny)AdjustmentsToBillback.If_Only_Bill_Selected_AdjustmentsIsChosen,_Release_Upon_SubmitCannotBeChecked,AndAdjustmentsCanBeSelectedOnTheNextScreenAfterPressing_Submit."
                        bold
            header2 of "Accounts"
            PrmCreditAccount
                label is "ServiceChargeCreditAccount"
                compact format
            PrmDebitAccount
                label is "ServiceChargeDebitAccount"
                compact format
            PrmFeeCreditAccount
                label is "FeeCreditAccount"
                compact format
            PrmFeeDebitAccount
                label is "FeeDebitAccount"
                compact format
