RequisitionMain is a Form
    restrict action Unreleased.UpdateRequisitionLineFillOrKill
    Layout
        visible when (not RecordExists)
            paragraph
                Requester
                    display as required when (RequesterRequired)
                    when value changed
                        refresh RequestingLocationRequired
                Requester.Employee.PresentationNameSnapshot
                    no label
                    display as text
            two column distributed
                paragraph
                    Company
                        display as required when (true)
                    Company.Name
                        no label
                        display as text
                paragraph
                    RequestingLocation
                        select is ActiveRequestingLocations
                        display as required when (RequestingLocationRequired)
                        when value changed
                            refresh FromCompanyLocationRequired
                    RequestingLocation.Name
                        no label
                        display as text
        two column distributed
            column1
                paragraph
                    FromCompanyLocation.FromCompany
                        label is "FromCompany"
                        display as required when (FromCompanyLocationRequired)
                    FromCompanyLocation.FromCompany.Name
                        no label
                        display as text
                paragraph
                    FromCompanyLocation.FromLocation
                        label is "FromLocation"
                        select is RQInventoryLocations
                        display as required when (FromCompanyLocationRequired)
                    FromCompanyLocation.FromLocation.Name
                        no label
                        display as text
                paragraph
                    LocationRule
                    LocationRule.Description
                        no label
                        display as text
                OneSourceDocumentToOnePO
                    label is "SingleDocument_to_aPurchaseOrder"
                visible when (ProcurementGroupRel.AribaEnabled)
                    Confirming
                QuoteNumber
                RequisitionDescription
            column2
                RequestedDeliveryDate
                DeliverTo
                AllocationPriority
                    label is "Priority"
                DefaultCommentType
                    label is "CommentType"
                paragraph
                    PrintRequisition
                    QuoteRequired
                visible when (ProcurementGroupRel.AribaEnabled)
                    AribaPOType
                visible when (FromProcurementTemplate)
                    ProcurementTemplate
                        label is "FromProcurementTemplate"
                        display as text
        single column
            ShippingNotes
                label is "ShippingNotes"
                use text area of 3 lines
        header2 of "Global"
        single column
            GlobalDocumentType
                label is "DocumentTypeCode"
        visible when (Requester.AllowAlternateShipToAddress)
            header2 of "<Requester.AlternateAddressDropshipTitle>"
            paragraph
                DropShipDefaulting
                    display as horizontal radio buttons
                    when value changed
                        refresh IsDropship
                        DropshipName =  RequestingLocation.Name
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.Country =  RequestingLocation.PostalAddress.Country
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.DeliveryAddress.AddressLine1 =  RequestingLocation.PostalAddress.DeliveryAddress.AddressLine1
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.DeliveryAddress.AddressLine2 =  RequestingLocation.PostalAddress.DeliveryAddress.AddressLine2
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.DeliveryAddress.AddressLine3 =  RequestingLocation.PostalAddress.DeliveryAddress.AddressLine3
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.DeliveryAddress.AddressLine4 =  RequestingLocation.PostalAddress.DeliveryAddress.AddressLine4
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.Municipality =  RequestingLocation.PostalAddress.Municipality
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.StateProvince =  RequestingLocation.PostalAddress.StateProvince
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.PostalCode =  RequestingLocation.PostalAddress.PostalCode
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipPhoneNumber.InternationalPrefix =  blank
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipPhoneNumber.SubscriberNumber =  blank
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipPhoneNumber.Extension =  blank
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.County =  RequestingLocation.PostalAddress.County
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.Region =  RequestingLocation.PostalAddress.Region
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.NationalIDNumber =  RequestingLocation.PostalAddress.NationalIDNumber
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.StateProvinceIDNumber =  RequestingLocation.PostalAddress.StateProvinceIDNumber
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.LocaleIDNumber =  RequestingLocation.PostalAddress.LocaleIDNumber
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipAddress.IndividualIDNumber =  RequestingLocation.PostalAddress.IndividualIDNumber
                            when (DropShipDefaulting.RequestingLocationAddress)
                        DropshipName =  Requester.Name
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.Country =  Requester.RequesterPostalAddress.Country
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.DeliveryAddress.AddressLine1 =  Requester.RequesterPostalAddress.DeliveryAddress.AddressLine1
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.DeliveryAddress.AddressLine2 =  Requester.RequesterPostalAddress.DeliveryAddress.AddressLine2
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.DeliveryAddress.AddressLine3 =  Requester.RequesterPostalAddress.DeliveryAddress.AddressLine3
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.DeliveryAddress.AddressLine4 =  Requester.RequesterPostalAddress.DeliveryAddress.AddressLine4
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.Municipality =  Requester.RequesterPostalAddress.Municipality
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.StateProvince =  Requester.RequesterPostalAddress.StateProvince
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.PostalCode =  Requester.RequesterPostalAddress.PostalCode
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipPhoneNumber.InternationalPrefix =  Requester.DerivedPInternationalPrefix
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipPhoneNumber.SubscriberNumber =  Requester.DerivedPSubscriberNumber
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipPhoneNumber.Extension =  Requester.DerivedPExtension
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.County =  Requester.RequesterPostalAddress.County
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.Region =  Requester.RequesterPostalAddress.Region
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.NationalIDNumber =  Requester.RequesterPostalAddress.NationalIDNumber
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.StateProvinceIDNumber =  Requester.RequesterPostalAddress.StateProvinceIDNumber
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.LocaleIDNumber =  Requester.RequesterPostalAddress.LocaleIDNumber
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipAddress.IndividualIDNumber =  Requester.RequesterPostalAddress.IndividualIDNumber
                            when (DropShipDefaulting.RequesterAddress)
                        DropshipName =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.Country =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.DeliveryAddress.AddressLine1 =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.DeliveryAddress.AddressLine2 =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.DeliveryAddress.AddressLine3 =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.DeliveryAddress.AddressLine4 =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.Municipality =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.StateProvince =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.PostalCode =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipPhoneNumber.InternationalPrefix =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipPhoneNumber.SubscriberNumber =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipPhoneNumber.Extension =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.County =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.Region =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.NationalIDNumber =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.StateProvinceIDNumber =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.LocaleIDNumber =  blank
                            when (DropShipDefaulting.ClearDefaults)
                        DropshipAddress.IndividualIDNumber =  blank
                            when (DropShipDefaulting.ClearDefaults)
                visible when (Requester.AllowDropship)
                    ReceivingOptions
                        when value changed
                            refresh IsDropship
                            Dropship =  false
                                when (ReceivingOptions.ReceivingRequired)
                            Dropship =  true
                                when (ReceivingOptions.ReceivingNotAllowed)
                visible when (false)
                    Dropship
                        when value changed
                            refresh IsDropship
            two column
                DropshipName
                    label is "Name"
                    display as required when (IsDropship)
                    when value changed
                        refresh IsDropship
                DropshipContact
                    label is "Contact"
            single column
                DropshipPhoneNumber
            visible when (not IsDropship)
                DropshipAddress
                    form is PostalAddressShortNotRequired
            visible when (IsDropship)
                DropshipAddress
                    form is PostalAddressShortRequired
        visible when (Requester.AllowBillTo)
            header2 of "P\\OBillTo"
            three column
                PurchaseOrderBillToName
                    label is "P\\OBillToName"
                PurchaseOrderBillToContact
                    label is "ContactName"
                PurchaseOrderBillToEmailAddress
                    label is "Email"
            single column
                PurchaseOrderBillToPhoneNumber
            PurchaseOrderBillToAddress
                form is PostalAddressShortNotRequired
        visible when (Company.UseIDM)
            header2 of "IDM_Printer"
            paragraph
                Printer
                    select is ActiveIDMPrinter
                visible when (Printer entered)
                    Printer.Description
                        no label
                        display as text
                button of "UpdatePrinter"
                    visible when (IsValidForUpdatePrinter)
                    action is UpdatePrinter
                    display as link
        visible when (false)
            RequisitionSource
            display as text
