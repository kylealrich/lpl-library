PurchaseCommitments is a Form
    title is "Commitments"
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Layout
        visible when (CanUpdateCommitments)
            paragraph
                CreateCommitments
                CommitmentCompany
                visible when (AvailableToCreateSpread)
                    button of "CreateCommitmentSpreads"
                        link is ContractSpreadsLink
                visible when (AvailableToUpdateSpread)
                    button of "UpdateCommitmentSpreads"
                        link is ContractSpreadsLink
                visible when (CreateCommitments.HeaderSpread)
                    AllowIncompleteSpread
                    RemainingToBeSpread
                        display as text
                visible when (CreateCommitments.LineSpread)
                    AllowIncompleteSpread
            visible when (CreateCommitments.HeaderSpread)
                paragraph
                    CommitmentAccount
                        compact format
            visible when (CreateCommitments.Header)
                paragraph
                    CommitmentAccount
                        compact format
        visible when (not CanUpdateCommitments)
            display as text
                paragraph
                    CreateCommitments
                    visible when (not CreateCommitments.No)
                        CommitmentCompany
                        visible when (CreateCommitments.HeaderSpread)
                            AllowIncompleteSpread
                        visible when (CreateCommitments.LineSpread)
                            AllowIncompleteSpread
                        visible when (UseHeaderSpreadCommitments)
                            button of "ViewCommitmentSpreads"
                                link is ContractSpreadsLink
                            RemainingToBeSpread
                visible when (CreateCommitments.Header)
                    paragraph
                        CommitmentAccount
                            compact format
                visible when (CreateCommitments.HeaderSpread)
                    paragraph
                        CommitmentAccount
                            compact format
        paragraph
            visible when (CanUpdateMaximumAmount)
                MaximumAmount
            visible when (not CanUpdateMaximumAmount)
                MaximumAmount
                    display as text
            visible when (NotContractTemplate)
                visible when (CanUpdateDates)
                    EffectiveDate
                    ExpirationDate
                visible when (not CanUpdateDates)
                    EffectiveDate
                        display as text
                    ExpirationDate
                        display as text
                    button of "ManageDateChanges"
                        visible when (CanUseUpdateDatesAction)
                        link is DateUpdates
                        display as link
                CommitmentsClosed
                    display as text
        visible when (UseCommitments)
            paragraph
                TotalCommitments
                    label is "TotalRemainingCommitments"
                    display as text
                button of "CommitmentDetails"
                    visible when (DrillCommitmentsExist)
                    link is Commitments
                    display as link
                visible when (HasPendingCommitments)
                    button of "PendingObligationDetails"
                        visible when (BudgetEditingInformationExists)
                        link is BudgetEditingInformation
                        display as link
                visible when (RolledOverCommitmentsExist)
                    visible when (not UseSpreadCommitments)
                        text of "CommitmentsHaveBeenRolledOverToANewYear"
                            bold
                            color of green
                    visible when (UseSpreadCommitments)
                        text of "SomeCommitmentsHaveBeenRolledOverToANewYear"
                            bold
                            color of green
        paragraph
            visible when (OpenPOCommitmentsExist)
                button of "OpenPurchaseOrderCommitments"
                    link is OpenPOLineCommitments
                    display as link
            visible when (OpenRQCommitmentsExist)
                button of "OpenRequisitionCommitments"
                    link is OpenRQLineCommitments
                    display as link
        visible when (HasBeenActivated)
            header4 of "AmountsToEditAgainstMaximumAmount"
            five column distributed
                display as text
                    visible when (ServicePurchaseType)
                        AmountOrdered
                            label is "Invoiced"
                    visible when (not ServicePurchaseType)
                        AmountOrdered
                            label is "Ordered"
                    visible when (MaxEditPoAndRq)
                        AmountRequested
                            label is "Requested"
                    visible when (IncludeAOCInMaxEdits)
                        AddOnChargeAmountOrdered
                            label is "AddOnCharges"
                    visible when (IncludeTaxInMaxEdits)
                        TaxAmountOrdered
                            label is "Tax"
                    MaximumAmountInUse
                        label is "Total"
                            bold
