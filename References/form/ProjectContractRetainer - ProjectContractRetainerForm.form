ProjectContractRetainerForm is a Form
    is primary
    title is "<FinanceEnterpriseGroup.FinanceDimension2Label>Retainer"
    Layout
        three column distributed
            column1
                Description
            column2
                paragraph
                    Amount
                    ProjectContract.Currency
                    display as text
            column3
                paragraph
                    RetainerDate
                    Status
        three column distributed
            column1
                TermsCode
            column2
                TermsCode.Description.Desc[1]
                    no label
                    display as text
            column3
                TermsCode.Description.Desc[2]
                    no label
                    display as text
        visible when (RetainerType.Retainer)
            three column distributed
                column1
                    RetainerProject
                        label is "Retainer<FinanceEnterpriseGroup.ProjectLabel>"
                        select is ProjectContract.PostingProjectsRel.ContractPostingProjectSelect
                column2
                    RetainerProject.Description
                        no label
                        display as text
            three column distributed
                column1
                    RetainerRule
                column2
                    RetainerFullAccount
                        compact format
            visible when (not FinanceDimension2.FundingType.IntercompanyBilling)
                three column distributed
                    column1
                        Taxable
                    column2
                        OriginalAmount
                            display as text
                    column3
                        paragraph
                            AvailableAmount
                                display as text
                            AppliedAmount
                                display as text
            visible when (FinanceDimension2.FundingType.IntercompanyBilling)
                three column distributed
                    column1
                        OriginalAmount
                            display as text
                    column2
                        AvailableAmount
                            display as text
                    column3
                        AppliedAmount
                            display as text
            three column distributed
                column1
                    ApplicationAmount
                column2
                    ApplicationPercent
                column3
                    ApplicationHold
        visible when (RetainerType.Adjustment)
            three column distributed
                column1
                    Status
                        display as text
                column2
                    paragraph
                        RetainerProject
                            label is "Retainer<FinanceEnterpriseGroup.ProjectLabel>"
                            display as text
                        RetainerProject.Description
                            no label
                            display as text
                column3
                    RetainerFullAccount
                        display only
                        compact format
        single column
            visible when (not ProjectContract.UseIDM)
                paragraph
                    ProjectInvoiceFormat
                        label is "InvoiceFormat"
                    button of "ViewInvoiceFormat"
                        view ProjectInvoiceFormat.ProjectContractInvoiceTemplate.File
            visible when (ProjectContract.UseIDM)
                paragraph
                    ProjectContractInvoiceTemplate
                        select is ProjectContractInvoiceIDMTemplate
                    button of "ViewInvoiceFormat"
                        link is external "<ProjectContractInvoiceTemplate.RetrieveUrl>"
