LeaseModificationLeaseForm is a Form
    title is "LeaseModification"
    Layout
        visible when (not PartialTermination)
            single column
                ModificationDate
                paragraph
                    PriorPeriodModification
                        label is "PriorPeriodModification"
                paragraph
                    visible when (PriorPeriodModification)
                        PriorPeriodDate
                            label is "PriorPeriodDate"
                        PriorPeriodPaymentAmount
                            label is "DifferenceInPayments"
                        ModificationNonLeaseComponent
                            label is "NonLeaseComponent"
                Description
            header2 of "ModificationDetails"
            paragraph
                TermModification
                    label is "ModifyTerm"
                visible when (TermModification)
                    TermModificationType
                        label is "Type"
                        when value changed
                            refresh DerivedTerm
                            refresh DerivedEndDate
                    visible when (TermModificationType.Extension)
                        paragraph
                            TermModificationMonths
                                label is "<ExtensionMessage>"
                                when value changed
                                    refresh DerivedTerm
                                    refresh DerivedEndDate
                            text of "Months"
                    visible when (TermModificationType.Reduction)
                        paragraph
                            TermModificationMonths
                                label is "<ReductionMessage>"
                                when value changed
                                    refresh DerivedTerm
                                    refresh DerivedEndDate
                            text of "Months"
            visible when (Lease.DefaultLeaseInterestRate)
                visible when (TermModification)
                    text of "Rate_Change_Options"
                        header4
                    paragraph
                        NewImplicitInterestRate
                            label is "KeepCurrentRate"
                        NewTotalTerm
                            label is "UpdateRateBasedOnNewTerm"
                        NewRemainingTerm
                            label is "UpdateRateBasedOnNewRemainingTerm"
            paragraph
                visible when (Lease.ExercisePurchase)
                    AmountsModification
                        label is "ModifyBargainPurchase"
                    visible when (AmountsModification)
                        UpdatedBargainPurchaseAmount
                            label is "NewBargainPurchaseAmount"
                visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                    AmountsModification
                        label is "ModifyGuaranteedResidualAmount"
                    visible when (AmountsModification)
                        UpdatedGuaranteedResidualAmount
                            label is "NewGuaranteedResidualAmount"
            paragraph
                visible when (Lease.DefaultLeaseInterestRate)
                    ImplicitInterestRate
                        mouse over text is "AllowOverrideMustBeEnabledInTheRateTableToEnterRate"
                visible when (not Lease.DefaultLeaseInterestRate)
                    ImplicitInterestRate
                        when value changed
                            refresh DerivedImplicitInterestRate
            paragraph
                visible when (HasLeaseIncentives)
                    button of "ViewIncentives"
                        list is LeaseIncentiveRel.LeaseIncentivesListViewOnly
        visible when (PartialTermination)
            single column
                ModificationDate
                    label is "PartialTerminationDate"
                Description
            header2 of "PartialTerminationDetails"
            paragraph
                TermModification
                    label is "ModifyTerm"
                visible when (TermModification)
                    TermModificationType
                        label is "Type"
                        when value changed
                            refresh DerivedTerm
                            refresh DerivedEndDate
                    visible when (TermModificationType.Reduction)
                        paragraph
                            TermModificationMonths
                                label is "<ReductionMessage>"
                                when value changed
                                    refresh DerivedTerm
                                    refresh DerivedEndDate
                            text of "Months"
            visible when (Lease.DefaultLeaseInterestRate)
                visible when (TermModification)
                    text of "Rate_Change_Options"
                        header4
                    paragraph
                        NewImplicitInterestRate
                            label is "KeepCurrentRate"
                        NewTotalTerm
                            label is "UpdateRateBasedOnNewTerm"
                        NewRemainingTerm
                            label is "UpdateRateBasedOnNewRemainingTerm"
            TerminatedAssetValue
                label is "TerminatedAssetValue"
            paragraph
                visible when (Lease.DefaultLeaseInterestRate)
                    ImplicitInterestRate
                        mouse over text is "AllowOverrideMustBeEnabledInTheRateTableToEnterRate"
                visible when (not Lease.DefaultLeaseInterestRate)
                    ImplicitInterestRate
                        when value changed
                            refresh DerivedImplicitInterestRate
            DerivedGainLossSummary
                label is "Gain/LossFromPartialTermination"
        blank line
        visible when (AssetAdjustmentNeeded)
            visible when (Lease.LeaseClassification.Finance)
                visible when (not UseBookCurrencyOnLeasedAsset)
                    text of "LeaseAssetBasisMustBeAdjustedAfterModificationTo<Lease.FLBasisAdjustmentAfterModification>_<Currency>"
                        bold
                    text of "AnAdjustmentWillBeMadeToTheLeaseAssetOf<Lease.AssetAdjustmentAfterModification>_<Currency>"
                        bold
                        italics
                    visible when (PartialTermination)
                        text of "PartialTerminationWillResultInGain/LossTransactionOf<DerivedGainLoss>_<Currency>"
                            bold
                visible when (UseBookCurrencyOnLeasedAsset)
                    text of "LeaseAssetBasisMustBeAdjustedAfterModificationTo<Lease.FLBaseBasisAdjustmentAfterModification>_<BaseCurrency>"
                        bold
                    text of "AnAdjustmentWillBeMadeToTheLeaseAssetOf<Lease.BaseAssetAdjustmentAfterModification>_<BaseCurrency>"
                        bold
                        italics
                    visible when (PartialTermination)
                        text of "PartialTerminationWillResultInGain/LossTransactionOf<DerivedGainLoss>_<Currency>"
                            bold
            visible when (Lease.LeaseClassification.Operating)
                visible when (not UseBookCurrencyOnLeasedAsset)
                    text of "LeaseAssetBasisMustBeAdjustedAfterModificationTo<DerivedOLBasisAfterModification>_<Currency>"
                        bold
                    text of "AnAdjustmentWillBeMadeToTheLeaseAssetOf<Lease.BaseAssetAdjustmentAfterModification>_<Currency>"
                        bold
                        italics
                    visible when (PartialTermination)
                        text of "PartialTerminationWillResultInGain/LossTransactionOf<DerivedGainLoss>_<Currency>"
                            bold
                visible when (UseBookCurrencyOnLeasedAsset)
                    text of "LeaseAssetBasisMustBeAdjustedAfterModificationTo<DerivedOLBaseBasisAfterModification>_<BaseCurrency>"
                        bold
                    text of "AnAdjustmentWillBeMadeToTheLeaseAssetOf<Lease.BaseAssetAdjustmentAfterModification>_<BaseCurrency>"
                        bold
                        italics
                    visible when (PartialTermination)
                        text of "PartialTerminationWillResultInGain/LossTransactionOf<DerivedGainLoss>_<Currency>"
                            bold
        blank line
        two column
            column1
                header2 of "OriginalValues"
                    center
                OriginalTerm
                    label is "Term"
                    display as text
                OriginalImplicitInterestRate
                    label is "ImplicitInterestRate"
                    display as text
                BeginDate
                    display as text
                OriginalEndDate
                    label is "EndDate"
                    display as text
                visible when (Lease.ExercisePurchase)
                    OriginalBargainPurchaseAmount
                        label is "BargainPurchaseAmount"
                        display as text
                visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                    OriginalGuaranteedResidualAmount
                        label is "GuaranteedResidualAmount"
                        display as text
                blank line
                display as text
                    text of "LeaseCurrency_(<Lease.Currency>)"
                        bold
                    OriginalNetPresentValue.TransactionAmount
                        label is "NetPresentValue"
                    OriginalLeaseObligation.TransactionAmount
                        label is "LeaseObligation"
                    OriginalROUAssetAmount.TransactionAmount
                        label is "RightOfUse"
                    visible when (HasDifferentCurrencies)
                        blank line
                        text of "BaseCurrency_(<Lease.BaseCurrency>)"
                            bold
                        OriginalNetPresentValue.BaseAmount.EnteredCurrencyAmount
                            label is "NetPresentValue"
                        OriginalLeaseObligation.BaseAmount.EnteredCurrencyAmount
                            label is "LeaseObligation"
                        OriginalROUAssetAmount.BaseAmount.EnteredCurrencyAmount
                            label is "RightOfUse"
            column2
                header2 of "ModifiedValues"
                    center
                display as text
                    DerivedTerm
                        label is "Term"
                    visible when (Lease.DefaultLeaseInterestRate)
                        ImplicitInterestRate
                            label is "ImplicitInterestRate"
                    visible when (not Lease.DefaultLeaseInterestRate)
                        DerivedImplicitInterestRate
                            label is "ImplicitInterestRate"
                    BeginDate
                    DerivedEndDate
                        label is "EndDate"
                visible when (Lease.ExercisePurchase)
                    UpdatedBargainPurchaseAmount
                        label is "BargainPurchaseAmount"
                        display as text
                visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                    UpdatedGuaranteedResidualAmount
                        label is "GuaranteedResidualAmount"
                        display as text
                blank line
                display as text
                    text of "LeaseCurrency_(<Lease.Currency>)"
                        bold
                    NetPresentValue.TransactionAmount
                        label is "NetPresentValue"
                    LeaseObligation.TransactionAmount
                        label is "LeaseObligation"
                    ROUAssetAmount.TransactionAmount
                        label is "RightOfUse"
                    visible when (HasDifferentCurrencies)
                        blank line
                        text of "BaseCurrency_(<Lease.BaseCurrency>)"
                            bold
                        NetPresentValue.BaseAmount.EnteredCurrencyAmount
                            label is "NetPresentValue"
                        LeaseObligation.BaseAmount.EnteredCurrencyAmount
                            label is "LeaseObligation"
                        ROUAssetAmount.BaseAmount.EnteredCurrencyAmount
                            label is "RightOfUse"
