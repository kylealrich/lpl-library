ExternalEntitySupplierPortalRegistration is a Form
    title is "SupplierRegistration"
    disable field options
    disable all actions
    Layout
        visible when (not TransientSendVerificationCode)
            five column
                column1
                    EmailAddress
                        label is "Email_Address_(User_Name)"
                        display as required
                        when value changed
                            LoginName =  EmailAddress
                            refresh DisplayForVerification
                            refresh SupplierSourceIdByEmailExists
                            refresh EmailAddressEntered
                            refresh EmailAddressNotEntered
                            refresh EmailAddressChanged
                    DerivedBlankField5
                        no label
                        display as text
                column2
                    visible when (SupplierGroup.RequireEmailConfirmation)
                        ConfirmEmailAddress
                            display as required
                            when value changed
                                refresh ConfirmEmailAddressEntered
                                refresh ConfirmEmailAddressNotEntered
                    DerivedBlankField5
                        no label
                        display as text
                column3
                    RegistrationPassword
                        display as required
                        when value changed
                            refresh RegistrationPasswordEntered
                            refresh RegistrationPasswordNotEntered
                            refresh RegistrationPasswordChanged
                    DerivedBlankField5
                        no label
                        display as text
                column4
                    RegistrationConfirmPassword
                        display as required
                        when value changed
                            refresh RegistrationConfirmPasswordEntered
                            refresh RegistrationConfirmPasswordNotEntered
                column5
                    TransientDisplayPasswordPolicy
                        label is "Show_Password_Requirements"
                        display as switch
                    visible when (TransientDisplayPasswordPolicy)
                        SupplierGroup.DerivedPasswordPolicy
                            no label
                            display as text
            paragraph
                visible when (not SupplierGroup.QuickRegistration)
                    ContactTitle
                        label is "Title"
                GivenName
                    label is "FirstName"
                    display as required
                    when value changed
                        refresh GivenNameEntered
                        refresh GivenNameNotEntered
                        refresh GivenNameChanged
                FamilyName
                    label is "LastName"
                    display as required
                    when value changed
                        refresh FamilyNameEntered
                        refresh FamilyNameNotEntered
                        refresh FamilyNameChanged
            paragraph
                TelephoneNumber.InternationalPrefix
                    label is "MainCountry/\\JurisdictionCode"
                TransientTelephone
                    label is "MainPhoneNumber"
                    display as required
                    when value changed
                        refresh TransientTelephoneEntered
                        refresh TransientTelephoneNotEntered
                TelephoneNumber.Extension
            visible when (not SupplierGroup.QuickRegistration)
                paragraph
                    MobilePhone
            visible when (not SupplierGroup.QuickRegistration)
                paragraph
                    FaxNumber
            paragraph
                SupplierName
                    label is "CompanyName"
                    display as required
                    when value changed
                        refresh SupplierNameEntered
                        refresh SupplierNameNotEntered
            visible when (not SupplierGroup.QuickRegistration)
                paragraph
                    SupplierDescription
                        use text area of 2 lines
                        display as required when (SupplierGroup.RequireSupplierDescription)
            visible when (SupplierGroup.QuickRegistration)
                visible when (SupplierGroup.RequireSupplierDescription)
                    paragraph
                        SupplierDescription
                            use text area of 2 lines
                            display as required when (SupplierGroup.RequireSupplierDescription)
            visible when (SupplierGroup.DisplayNonVAT)
                paragraph
                    TaxIdGroup.TaxIdType
                        display as required when (RequireTaxId)
                        when value changed
                            refresh RequireVAT
                            refresh RequireTaxId
                    TaxIdGroup.TaxId
                        label is "<DerivedTaxId>"
                        display as required when (RequireTaxId)
                        when value changed
                            refresh RequireVAT
                            refresh RequireTaxId
                            refresh TaxIdGroup.TaxIdType
                    TaxCertification.File
                        label is "Attach<TaxCertificationLabel>"
                        display as required when (TaxIdGroup.TaxIdType.TaxCertificationRequired)
                    visible when (BothTaxCodes)
                        text of "<BothTaxMessage>"
                            italics
            visible when (SupplierGroup.DisplayVAT)
                paragraph
                    VATRegistrationCountry
                        display as required when (RequireVAT)
                        when value changed
                            refresh RequireVAT
                            refresh RequireTaxId
                    VATRegistrationNumber
                        label is "<DerivedVAT>"
                        display as required when (RequireVAT)
                        when value changed
                            refresh RequireVAT
                            refresh RequireTaxId
            single column
                text of "Mailing_Address"
                    bold
            MailingAddress
                form is PostalAddressShortRequired
            visible when (SupplierGroup.DisplayTypeForRegistration)
                MailingAddress.Type
                    label is "Type"
            visible when (not SupplierGroup.QuickRegistration)
                single column
                    SameAsAddressAbove
                        label is "CheckIfRemitToAddressIsTheSameAsMailingAddress"
                        when value changed
                            refresh BillingAddressEntered
                            refresh BillingAddressNotEntered
                    visible when (not SameAsAddressAbove)
                        text of "RemitToInformation"
                            bold
            visible when (not SupplierGroup.QuickRegistration)
                visible when (not SameAsAddressAbove)
                    BillingAddress
                        form is PostalAddressShortRequired
                    visible when (SupplierGroup.DisplayTypeForRegistration)
                        BillingAddress.Type
                            label is "Type"
                    paragraph
                        BillingFirstName
                            label is "RemitToFirstName"
                        BillingLastName
                            label is "RemitToLastName"
            visible when (not SupplierGroup.QuickRegistration)
                three column
                    DandBNbr
                        label is "Dun&Bradstreet"
                    BusinessType
                    DoingBusinessAs
                three column
                    visible when (SupplierGroup.DisplayGTINAndGLNInSupplierPortal)
                        GlobalLocationNumber
                    WebAddress
                        label is "Website"
                    text of "Enter_http:/_/_WhenAdding_Website"
                        italics
            single column
                AcceptTerms
                    label is "AcceptTerms_andConditions_asShownFollowing"
                    display as required
                    when value changed
                        refresh AcceptTermsEntered
                        refresh AcceptTermsNotEntered
                SupplierGroup.TermAndCondition
                    no label
                    display as text
            visible when (not DisplayForVerification)
                paragraph centered
                    DerivedBlankField5
                        no label
                        display as text
                paragraph centered
                    captcha control
                paragraph centered
                    button of "Submit"
                        action is save
                        is primary
            visible when (DisplayForVerification)
                paragraph centered
                    button of "Submit"
                        is primary
                        when button pressed
                            TransientStringHolder =  blank
                            refresh MailingAddressCounrtyEntered
                            refresh MailingAddressCountryNotEntered
                            refresh MailingAddressEntered
                            refresh MailingAddressNotEntered
                            refresh BillingAddressEntered
                            refresh BillingAddressNotEntered
                            refresh EmailAddressesDoNotMatch
                            refresh RegistrationPasswordsDoNotMatch
                            refresh TransientErrorOccurred
                            refresh RequiredRegistrationFieldsEntered
                            refresh RequiredRegistrationFieldsNotEntered
                            refresh RegisterUserInputFieldsChanged
                            refresh GivenName
                            refresh FamilyName
                            refresh DerivedVerificationCodeRequiredRegistration
                            refresh EmailAddress
                            refresh TransientSendVerificationCode
                            refresh TransientNextAction
                            refresh TransientUserVerificationId
                            refresh TransientUserIdentity
                            refresh TransientUserRegistered
                            refresh TransientStringHolder
                            TransientErrorOccurred =  false
                                when (RequiredRegistrationFieldsEntered)
                            TransientErrorOccurred =  false
                                when (TransientUserRegistered)
                            TransientErrorOccurred =  true
                                when (RequiredRegistrationFieldsNotEntered)
                            TransientErrorOccurred =  true
                                when (not TransientUserRegistered)
                            TransientSendVerificationCode =  true
                                when (not TransientErrorOccurred)
                visible when (TransientErrorOccurred)
                    visible when (EmailAddressNotEntered)
                        paragraph centered
                            text of "EmailAddressIsRequired"
                                header4
                                color of red
                    visible when (ConfirmEmailAddressNotEntered)
                        paragraph centered
                            text of "ConfirmEmailAddressIsRequired"
                                header4
                                color of red
                    visible when (EmailAddressesDoNotMatch)
                        paragraph centered
                            text of "ConfirmEmailAddressDoesNotMatchEmailAddress"
                                header4
                                color of red
                    visible when (RegistrationPasswordNotEntered)
                        paragraph centered
                            text of "PasswordIsRequired"
                                header4
                                color of red
                    visible when (RegistrationConfirmPasswordNotEntered)
                        paragraph centered
                            text of "ConfirmPasswordIsRequired"
                                header4
                                color of red
                    visible when (RegistrationPasswordsDoNotMatch)
                        paragraph centered
                            text of "PasswordsDoNotMatch"
                                header4
                                color of red
                    visible when (GivenNameNotEntered)
                        paragraph centered
                            text of "FirstNameIsRequired"
                                header4
                                color of red
                    visible when (FamilyNameNotEntered)
                        paragraph centered
                            text of "LastNameIsRequired"
                                header4
                                color of red
                    visible when (TransientTelephoneNotEntered)
                        paragraph centered
                            text of "MainPhoneNumberIsRequired"
                                header4
                                color of red
                    visible when (SupplierNameNotEntered)
                        paragraph centered
                            text of "CompanyNameIsRequired"
                                header4
                                color of red
                    visible when (MailingAddressCountryNotEntered)
                        paragraph centered
                            text of "Country/\\JurisdictionForMailingAddressIsRequired"
                                header4
                                color of red
                    visible when (MailingAddressNotEntered)
                        paragraph centered
                            text of "MailingAddressInformationRequired"
                                header4
                                color of red
                    visible when (BillingAddressNotEntered)
                        paragraph centered
                            text of "MustEitherEnterRemitAddressOrCheckBoxIndicatingItIsTheSameAsMailingAddress"
                                header4
                                color of red
                    visible when (AcceptTermsNotEntered)
                        paragraph centered
                            text of "<MustAcceptTermsAndConditionsMessage>"
                                header4
                                color of red
                    paragraph centered
                        TransientStringHolder
                            no label
                            color of red
                            display as text
        visible when (TransientSendVerificationCode)
            paragraph centered
                text of "PleaseEnterTheVerificationCodeThatWasSentToTheBelowEmailAddress"
                    header4
                    bold
                    italics
            visible when (TransientResendVerificationCode)
                paragraph centered
                    text of "WeHaveSentANewVerificationCodeTo:"
                        header4
                        color of red
            paragraph centered
                EmailAddress
                    no label
                    display as text
            blank line
            paragraph centered
                TransientVerificationCode
                    label is "EnterVerificationCode"
            paragraph centered
                button of "ResendVerificationCode"
                    display as link
                    is primary
                    when button pressed
                        TransientVerificationCodeResent =  false
                        refresh TransientVerificationCodeResent
                        refresh TransientUserIdentity
                        refresh TransientUserVerificationId
                        refresh DerivedResendVerificationCode
                        refresh TransientResendVerificationCode
            paragraph centered
                button of "ReturnToRegistration"
                    display as link
                    is primary
                    when button pressed
                        TransientSendVerificationCode =  false
                        TransientResendVerificationCode =  false
                        TransientErrorOccurred =  false
                        TransientStringHolder =  blank
            paragraph centered
                DerivedBlankField5
                    no label
                    display as text
            paragraph centered
                captcha control
            paragraph centered
                button of "Submit"
                    action is save
                    is primary
            paragraph centered
                TransientStringHolder
                    no label
                    color of red
                    display as text
        visible when (false)
            EmailAddressEntered
            ConfirmEmailAddressEntered
            EmailAddressesDoNotMatch
            RegistrationPasswordEntered
            RegistrationConfirmPasswordEntered
            RegistrationPasswordsDoNotMatch
            GivenNameEntered
            FamilyNameEntered
            TransientTelephoneEntered
            SupplierNameEntered
            AcceptTermsEntered
            BillingAddressEntered
            MailingAddressCounrtyEntered
            MailingAddressEntered
            MailingAddressCountryNotEntered
            MailingAddressNotEntered
            BillingAddressNotEntered
            LoginName
            DerivedVerificationCodeRequiredRegistration
            TransientSendVerificationCode
            TransientResendVerificationCode
            DerivedResendVerificationCode
            DerivedVerificationCodeRequired
            DisplayForVerification
            TransientUserRegistered
            Supplier
            TransientNextAction
            TransientUserVerificationId
            TransientUserIdentity
            TransientVerificationCodeResent
            SupplierSourceIdByEmailExists
            EmailAddressChanged
            RegistrationPasswordChanged
            GivenNameChanged
            FamilyNameChanged
            RegisterUserInputFieldsChanged
        visible when (false)
            paragraph
                LoginName
                SupplierGroup
                ConfirmPassword
                ContactTitle
                MainContact
                EmailAddress
                TelephoneNumber
                FaxNumber
                MobilePhone
                ReceiveEmailNotification
                VendormateEntityId
                VendormateUserId
                SanctionsFree
                TaxIdVerifiedByVendormate
                GlobalLocationNumber
