ProjectContractDetailsForm is a Form
    title is "Main"
    Layout
        three column distributed
            column1
                ContractID
            column2
                Description
            column3
                paragraph
                    ContractType
                    button of "<ContractProjectEnterpriseStructureRel.DisplayProject>"
                        link is ViewContractProject
                        label is "<FinanceEnterpriseGroup.ProjectLabel>"
                        display as link
        three column distributed
            column1
                ContractAmount
            column2
                Currency
            column3
                CurrencyTable
        three column distributed
            column1
                BillingMethod
            column2
                visible when (BillingMethod.CostPlus)
                    MarkupPercent
                visible when (BillingMethod.TimeAndMaterials)
                    MarkupPercent
                visible when (BillingMethod.RateTable)
                    BillingRateTable
            column3
                visible when (BillingMethod.RateTable)
                    MarkupPercent
        three column distributed
            column1
                paragraph
                    RevenueRecognition
                    visible when (RevenueRecognition.Separate)
                        RevenueMethod
            column2
                MaximumFees
            column3
                RemainderOption
        three column distributed
            column1
                paragraph
                    SellerTaxCode
                    SellerTaxCode.Description
                        no label
                        display as text
            column2
                paragraph
                    SellerTaxLocation
                    SellerTaxLocation.Description
                        no label
                        display as text
            column3
                SellerTaxLocation.AddressCode
                    display as text
        three column distributed
            column1
                ExcludeAP
            column2
                AllocateExpenditures
            column3
                visible when (FinanceEnterpriseGroup.FrontEndSplits)
                    FrontEndSplits
        three column distributed
            column1
                UseIDM
            column2
                visible when (not UseIDM)
                    paragraph
                        ProjectInvoiceFormat
                            label is "InvoiceFormat"
                        button of "ViewInvoiceFormat"
                            view ProjectInvoiceFormat.ProjectContractInvoiceTemplate.File
                visible when (UseIDM)
                    paragraph
                        ProjectContractInvoiceTemplate
                            select is ProjectContractInvoiceIDMTemplate
                        button of "ViewInvoiceFormat"
                            link is external "<ProjectContractInvoiceTemplate.RetrieveUrl>"
            column3
                visible when (not UseIDM)
                    paragraph
                        ProjectInvoiceReversalFormat
                            label is "InvoiceReversalFormat"
                        button of "ViewInvoiceFormat"
                            view ProjectInvoiceReversalFormat.ProjectContractInvoiceReversalTemplate.File
                visible when (UseIDM)
                    paragraph
                        ProjectContractInvoiceReversalTemplate
                            select is ProjectContractInvoiceReversalIDMTemplate
                        button of "ViewInvoiceFormat"
                            link is external "<ProjectContractInvoiceReversalTemplate.RetrieveUrl>"
        three column distributed
            paragraph
                PersonResponsible
                    display as text
                PersonResponsible.Name.PreferredFirstAndLastName
                    no label
                    display as text
            visible when (ProjectTeam entered)
                paragraph
                    ProjectTeam
                        display as text
                    ProjectTeam.Description
                        no label
                        display as text
        three column distributed
            column1
                ProgramIncome
            column2
                ProgramIncomeType
        three column distributed
            column1
                SingleProjectInvoice
            column2
                visible when (RevenueRecognition.Separate)
                    SingleProjectRevenue
        header2 of "InvoiceSummarization"
        three column distributed
            column1
                CreateSummarizedInvoices
                visible when (CreateSummarizedInvoices)
                    SummarizeByProject
                        label is "By<FinanceEnterpriseGroup.ProjectLabel>"
                        show up to 10 characters
                blank line
            visible when (CreateSummarizedInvoices)
                column2
                    visible when (FinanceEnterpriseGroup.BillingOverrideLevel.Account)
                        AlternateChart
                        SummarizeByDimension
                            label is "By<FinanceEnterpriseGroup.BillingOverrideLevelLabel>"
                            show up to 10 characters
                    visible when (not FinanceEnterpriseGroup.BillingOverrideLevel.Account)
                        blank line
                        SummarizeByDimension
                            label is "By<FinanceEnterpriseGroup.BillingOverrideLevelLabel>"
                            show up to 10 characters
                    blank line
            visible when (CreateSummarizedInvoices)
                column3
                    SummarizeByResource
                        label is "ByResource"
                    SummarizeByRate
                        label is "ByBillableRate"
                    SummarizeByFeeCode
                        label is "ByFeeCode"
        header2 of "BudgetTotals"
        three column distributed
            column1
                paragraph
                    Scenario
                        label is "Scenario"
                        select is ProjectBudgets
                        show up to 6 characters
                    Scenario.Description
                        no label
                        display as text
            column2
                paragraph
                    ProjectContractBudgetAmount
                        label is "Total"
                        display as text
                    ContractAmountBilledRemaining
                        label is "Remaining"
                        display as text
            column3
                paragraph
                    visible when (Scenario entered)
                        button of "RefreshBudgetTotals"
                            action is RefreshBudgetTotals
