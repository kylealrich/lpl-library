ContractContext is a Form
    title is "Contracts"
    restrict action CreateIDMXML
    restrict action DeleteIDMXML
    Layout
        visible when (ContractExists)
            three column distributed
                column1
                    display as text
                        paragraph
                            RepresentativeText
                                label is "Contract"
                            visible when (MultiplePriceProgram)
                                text of "MultiplePriceProgram"
                                    bold
                                    color of blue
                        visible when (PrimaryContactExists)
                            paragraph
                                PrimaryContact
                                    label is "PrimaryInternalContact"
                                button of icon.profile
                                    link is PrimaryContactNav
                                visible when (PrimaryContactRel.PhoneNumberExists)
                                    button of icon.phone
                                        link is "tel:<PrimaryContactRel.DerivedPhone>"
                                visible when (PrimaryContactRel.EmailAddressExists)
                                    button of icon.mail
                                        link is "mailto:<PrimaryContactRel.DerivedEmail>"
                        single column
                            visible when (AllowChangeOrder)
                                visible when (CanShowVersion)
                                    CurrentVersionForChangeOrder
                                        label is "Version"
                column2
                    display as text
                        Supplier.RepresentativeText
                            label is "Supplier"
                        paragraph
                            SupplierSourceId.MainContact.FirstAndLastName
                                label is "SupplierContact"
                            button of icon.profile
                                link is SupplierContactNav
                            visible when (SupplierSourceId.TelephoneNumberEntered)
                                button of icon.phone
                                    link is "tel:<SupplierSourceId.TelephoneNumber>"
                            visible when (SupplierSourceId.EmailAddressEntered)
                                button of icon.mail
                                    link is "mailto:<SupplierSourceId.EmailAddress>"
                column3
                    paragraph
                        WorkingContractID
                            display as text
                        visible when (HasError)
                            AlertTag
                                no label
                                display as tag
                                    color of red
                    paragraph
                        Status
                            display as tag
                                color of turquoise when (ActivationInProgress)
                                color of brown when (ContractStatus.Draft)
                                color of green when (ContractStatus.Released)
                                color of orange when (ContractStatus.Negotiation)
                                color of yellow when (ContractStatus.FinalApproval)
                                color of blue when (ContractStatus.ReadyToActivate)
                                color of green when (ContractStatus.Active)
                                color of gray when (ContractStatus.Inactive)
                                color of purple when (ContractStatus.Addendum)
                                color of purple when (ContractStatus.Amendment)
                                color of black when (ContractStatus.Closed)
                        visible when (ProposedContract.ProposedNotSubmitted)
                            visible when (ProposedPreviouslySubmitted)
                                text of "ProposedContractReturnedForMoreInformation"
                                    bold
                                    color of blue
                        visible when (ProposedContract.NeedsApproval)
                            text of "ProposedContractInApprovalProcess"
                                color of blue
                        visible when (OnHold)
                            OnHoldMessage
                                no label
                                display as tag
                                    color of red
            paragraph distributed
                visible when (BudgetEditInProgress)
                    text of "BudgetEditsInProgress"
                        bold
                        color of orange
                visible when (ActivationInProgress)
                    text of "ActivationIsInProgress;RefreshScreenToDetermineIfCompleted"
                        bold
                        color of orange
                visible when (HasNonFinishedTriggers)
                    text of "ReleaseMembersInProgress;RefreshScreenToDetermineIfCompleted"
                        bold
                        color of orange
                visible when (ActiveContract)
                    visible when (CanReleaseMembers)
                        text of "MembersExistThatMustBeReleased"
                            bold
                            color of orange
