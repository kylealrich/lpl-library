ContractLineContext is a Form
    title is "ContractLines"
    Layout
        four column distributed
            column1
                display as text
                    paragraph
                        Contract.RepresentativeText
                            label is "Contract"
                        visible when (ContractLineExists)
                            ContractLine
                                label is "Line"
                    paragraph
                        visible when (ItemNumber entered)
                            ItemNumber
                                label is "Item"
                        ItemDescription
                            label is "Description"
            column2
                display as text
                    Contract.Supplier.RepresentativeText
                        label is "Supplier"
                    visible when (VendorItem entered)
                        VendorItem
            column3
                display as text
                    Contract.WorkingContractID
            column4
                display as text
                    visible when (ContractLineExists)
                        paragraph
                            Contract.Status
                                label is "ContractStatus"
                                display as tag
                                    color of turquoise when (Contract.ActivationInProgress)
                                    color of brown when (Contract.ContractStatus.Draft)
                                    color of green when (Contract.ContractStatus.Released)
                                    color of orange when (Contract.ContractStatus.Negotiation)
                                    color of yellow when (Contract.ContractStatus.FinalApproval)
                                    color of blue when (Contract.ContractStatus.ReadyToActivate)
                                    color of green when (Contract.ContractStatus.Active)
                                    color of gray when (Contract.ContractStatus.Inactive)
                                    color of purple when (Contract.ContractStatus.Addendum)
                                    color of purple when (Contract.ContractStatus.Amendment)
                                    color of black when (Contract.ContractStatus.Closed)
                            ContractLineState
                                label is "LineStatus"
                                display as tag
                                    color of brown when (ContractLineState.Draft)
                                    color of green when (ContractLineState.Active)
                                    color of purple when (ContractLineState.Amendment)
                                    color of gray when (ContractLineState.Inactive)
                                    color of black when (ContractLineState.Closed)
                    visible when (HoldOnSomething)
                        OnHoldMessage
                            no label
                            display as tag
                                color of red
        three column distributed
            visible when (IsDistributorWithManufacturerContract)
                paragraph
                    display as text
                        ManufacturerContractRepresentativeText
                        visible when (MfgContractRel.WorkingContractUnique)
                            MfgContractRel.WorkingContractID
                        ManufacturerContractLine
                            label is "Line"
                        visible when (DistWithMfgLine)
                            button of "ManufacturerContractLine"
                                link is ManufacturerContractLineNav
                                display as link
                        MfgContractRel.Supplier.SupplierName
                            label is "SupplierName"
            visible when (ContractLineExists)
                visible when (LineAvailableForDistributorNotCreated)
                    visible when (LineNotClosed)
                        text of "LineIsAvailableForDistributor"
                            bold
                visible when (LineNotAvailableForDistributor)
                    text of "LineIsNotAvailableForDistributor"
                        bold
                visible when (DistributorContractLineLinkRelExists)
                    button of "DistributorContractLine(s)Exist"
                        link is DistributorContractLineNav
                        bold
                        display as link
            visible when (not AttributesInUse)
                visible when (ContractLineImportByManufacturer)
                    button of "GPOInterfaceContractLine"
                        link is GPOContractLine
                        display as link
            visible when (AttributesInUse)
                visible when (HasDirectLinkToContractLineImport)
                    button of "GPOInterfaceContractLine"
                        link is GPOContractLineDirect
                        display as link
            visible when (ContractLineExists)
                visible when (SpecialItemCostDefaultingNotActivated)
                    SpecialItemOptions
                        display as text
                visible when (SpecialItemNotCostDefaultingOrActiveOrAmendment)
                    SpecialItemOptions
                        display as text
        paragraph distributed
            visible when (Contract.ActivationInProgress)
                text of "ActivationIsInProgress;RefreshScreenToDetermineIfCompleted"
                    bold
                    color of orange
            visible when (ContractLineExists)
                visible when (ContractHasAPurchaseType)
                    visible when (not Contract.ContractTemplate)
                        visible when (DistWithMfgLineClosed)
                            text of "AssociatedManufacturerContractLineIsClosed"
                                bold
                        visible when (OtherErrorsExist)
                            text of "LineErrorsExistWhichNeedToBeFixed"
                                bold
                                color of red
