CustomerActivityComposite is a CompositeForm
    title is "NationalAccountActivity<CompanyCustomerTitle>"
    context form is CustomerActivityContext
        background is theme color
    restrict action AddCustomer
    restrict action Create
    restrict action Delete
    restrict action DeleteWithMassUpdateLogic
    restrict action UpdateFilters
    Actions
        action is ClearFilter
            action icon is finalize
            hide when invalid
        action is refresh
            label is "_"
        action is save
            action icon is save
            label is "_"
            hide when invalid
    TransactionsNotFiltered is a Panel
        title is "Transactions"
        visible when (not FilterExists)
        list is PartOfNationalAccountTransactionsRel.CustomerActivityListNotFiltered
    TransactionsFilteredNoHistory is a Panel
        title is "Transactions"
        visible when (FilterExistsAndNoHistory)
        list is PartOfNationalAccountTransactionsRel.CustomerActivityListFiltered
    TransactionsFilteredOnlyShowHistory is a Panel
        title is "Transactions"
        visible when (FilterExistsAndOnlyShowHistory)
        list is ClosedTransactionsNavRel.CustomerActivityListFiltered
    TransactionsFilteredIncludeHistory is a Panel
        title is "Transactions"
        visible when (FilterExistsAndIncludeHistory)
        list is NationalAccountReceivableInvoiceDetailRel.NationalAccountCustomerActivityListFiltered
    PaymentsNotFiltered is a Panel
        title is "Payments"
        visible when (TransientIncludeReceivablePayments)
        list is OpenOrUnreleasedNationalAccountReceivablePaymentsRel.NationalAccountCustomerActivityList
    PaymentsFilteredNoHistory is a Panel
        title is "Payments"
        visible when (FilterExistsAndNoHistory)
        list is OpenOrUnreleasedNationalAccountReceivablePaymentsRel.NationalAccountCustomerActivityListFiltered
    PaymentsFilteredOnlyShowHistory is a Panel
        title is "Payments"
        visible when (FilterExistsAndOnlyShowHistory)
        list is ClosedPaymentNavRel.CustomerActivityListFiltered
    PaymentsFilteredIncludeHistory is a Panel
        title is "Payments"
        visible when (FilterExistsAndIncludeHistory)
        list is NationalAccountReceivablePaymentsRel.NationalAccountCustomerActivityListFiltered
    Drafts is a Panel
        visible when (BOEProcessing)
        list is NationalAccountCustomerDraftRel.CustomerActivityList
