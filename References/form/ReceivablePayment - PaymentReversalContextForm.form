PaymentReversalContextForm is a Form
    Layout
        display as text
            three column distributed
                paragraph
                    Company.RepresentativeText
                        label is "Company"
                    Company.Currency
                        no label
                paragraph
                    ReceivablePaymentHeader
                        label is "Batch"
                    PaymentNumber
                    ReceivablePaymentHeader.Currency
                        no label
                paragraph
                    TransactionAmount
                        label is "PaymentAmount"
                    PaymentOpen
                        label is "OpenAmount"
                    visible when (HasReverseHeader)
                        visible when (ReceivablePaymentApplyReverseHeaderRel.HasReceivablePaymentApplyReverseDetail)
                            visible when (BackgroundProcessing not entered)
                                TransientPaymentReversalHeaderSelections
                                TransientPaymentReversalNewOpenAmount
            three column distributed
                paragraph
                    Customer.RepresentativeText
                        label is "Customer"
                    ReceivableProcessLevel.RepresentativeText
                        label is "ProcessLevel"
                paragraph
                    DepositDate
                    GeneralLedgerDate
                paragraph
                    visible when (HasReverseHeader)
                        ReceivablePaymentApplyReverseHeaderRel.GeneralLedgerDate
                            label is "ReversalDate"
                        paragraph
                            ReceivablePaymentApplyReverseHeaderRel.ReceivableOperator
                                label is "Operator"
                            button of "*"
                                action is ChangeOperator
                                display as link
            single column
                text of "_"
                visible when (BackgroundProcessing entered)
                    visible when (not BackgroundProcessing.ReversalProcessing)
                        text of "BackgroundProcessRunningForThisPayment;CheckAsync."
                            header4
                            bold
                            color of red
                    visible when (BackgroundProcessing.ReversalProcessing)
                        text of "ReversalProcessingIsOngoing.RefreshToViewProgress."
                            header4
                            bold
                            color of red
                visible when (BackgroundProcessing not entered)
                    visible when (HasReverseHeader)
                        visible when (not ReceivablePaymentApplyReverseHeaderRel.HasReceivablePaymentApplyReverseDetail)
                            text of "Payment_\\Reversal_\\HeaderExists.EitherSelectIndividualApplicationsForReversalOrUseThe_\\Select_\\All_\\For_\\ReversalAction."
                                header4
                                bold
                                color of red
                        visible when (ReceivablePaymentApplyReverseHeaderRel.HasReceivablePaymentApplyReverseDetail)
                            text of "Payment_\\Reversal_\\HeaderExists.FinishSelectingApplicationsForReversal,ThenUseThe_\\Process_\\ReversalAction."
                                header4
                                bold
                                color of red
                    visible when (not HasReverseHeader)
                        visible when (PostedApplicationsAvailableToReverse)
                            text of "Payment_\\Reversal_\\HeaderDoesNotExist.ToReverseApplications,UseEitherThe_\\Create_\\Reversal_\\HeaderActionOrThe_\\Create_\\And_\\Reverse_\\AllAction."
                                header4
                                bold
                                color of red
