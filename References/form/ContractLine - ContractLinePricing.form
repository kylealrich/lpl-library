ContractLinePricing is a Form
    title is "ContractLinePricing"
    Layout
        two column distributed
            column1
                visible when (not Contract.ServicePurchaseType)
                    visible when (not FromManufacturerContract)
                        CostOption
                    visible when (FromManufacturerContract)
                        CostOption
                            display as text
                paragraph
                    EffectiveDate
                        label is "CurrentEffectiveDate"
                        display as text
                    ExpirationDate
                        label is "CurrentExpirationDate"
                        display as text
            column2
                visible when (Contract.UseLineCommitments)
                    header2 of "CommitmentOptions"
                    paragraph
                        UseCommitments
                            label is "CreateCommitments"
                        CommitmentsClosed
                            display as text
                    paragraph
                        visible when (OpenPOCommitmentsExist)
                            button of "OpenPurchaseOrderCommitments"
                                link is OpenPOLineCommitments
                                display as link
                        visible when (OpenRQCommitmentsExist)
                            button of "OpenRequisitionCommitments"
                                link is OpenRQLineCommitments
                                display as link
        two column distributed
            column1
                header2 of "Quantities_andAmounts"
                visible when (not Contract.ServicePurchaseType)
                    LifetimeMaximumAmount
                visible when (Contract.ServicePurchaseType)
                    paragraph
                        LifetimeMaximumAmount
                            display as text
                        visible when (AmountTypeServiceItem)
                            text of "LifetimeMaximumAmountIsEqualToBaseCostForAmountTypeService"
                                italics
                        visible when (ServiceCode.Quantity)
                            visible when (LifetimeMaximumQuantityEntered)
                                visible when (not HasOrderedQuantity)
                                    text of "LifetimeMaximumAmountIsEqualToBaseCostTimesMaximumQuantityForQuantityTypeService"
                                        italics
                                visible when (HasOrderedQuantity)
                                    text of "LifetimeMaximumAmountIsEqualToBaseCostTimesMaximumQuantityForQuantityTypeService;AmountMayReflectOldBaseCostForQuantityOrdered"
                                        bold
                                        italics
                visible when (not Contract.StandingPurchaseType)
                    visible when (not ServiceCode.Amount)
                        paragraph
                            PerOrderMinimumQuantity
                            PerOrderMaximumQuantity
                    paragraph
                        PerOrderMinimumAmount
                        PerOrderMaximumAmount
                visible when (HasBeenActivated)
                    header3 of "AmountsToEditAgainstMaximumAmount"
                    paragraph
                        visible when (ServicePurchaseTypeContract)
                            AmountOrdered
                                label is "Invoiced"
                                display as text
                        visible when (not ServicePurchaseTypeContract)
                            AmountOrdered
                                label is "Ordered"
                                display as text
                        visible when (Contract.MaxEditPoAndRq)
                            AmountRequested
                                label is "Requested"
                                display as text
                    visible when (Contract.IncludeAOCInMaxEdits)
                        AddOnChargeAmountOrdered
                            label is "AddOnCharges"
                            display as text
                    visible when (Contract.IncludeTaxInMaxEdits)
                        TaxAmountOrdered
                            label is "Tax"
                            display as text
                    MaximumLineAmountInUse
                        label is "Total"
                            bold
                        display as text
                visible when (HasBeenActivated)
                    header3 of "OtherAmounts_andQuantities"
                    visible when (Contract.RequestedAmountNonMax)
                        AmountRequested
                            label is "RequestedAmount"
                            display as text
                    visible when (not Contract.IncludeAOCInMaxEdits)
                        AddOnChargeAmountOrdered
                            label is "AddOnChargesIncurred"
                            display as text
                    visible when (not Contract.IncludeTaxInMaxEdits)
                        TaxAmountOrdered
                            label is "TaxCharged"
                            display as text
                    visible when (not ServiceCode.Amount)
                        visible when (not ServicePurchaseTypeContract)
                            QuantityOrdered
                                display as text
                        visible when (ServicePurchaseTypeContract)
                            QuantityOrdered
                                label is "QuantityInvoiced"
                                display as text
                    visible when (ItemNumber.Consignment)
                        paragraph
                            ConsignmentAmountOrdered
                                display as text
                            ConsignmentQuantityOrdered
                                display as text
            column2
                visible when (not Contract.CapitatedContract)
                    visible when (ShowPricing)
                        header2 of "Pricing"
                    visible when (PriceBreaksAllowed)
                        visible when (not Contract.ServicePurchaseType)
                            header3 of "PurchasePricing"
                        visible when (Contract.ServicePurchaseType)
                            header3 of "ServicePricing"
                        paragraph
                            PricingMarkupOrDiscount
                                label is "Markup_orDiscount"
                            LinePriceBreakOn
                                label is "ByQuantity_orAmount"
                        PriceBreak
                            label is "PriceBreaks"
                            compact format
                    visible when (CsnPriceBreaksAllowed)
                        header3 of "ConsignmentPricing"
                        paragraph
                            ConsignmentPricingMarkupOrDiscount
                                label is "Markup_orDiscount"
                            ConsignmentLinePriceBreakOn
                                label is "ByQuantity_orAmount"
                        ConsignmentPriceBreak
                            label is "PriceBreaks"
                            compact format
                    visible when (PriceBreakSomewhere)
                        visible when (ContractPricingExists)
                            header3 of "PricingDiscount"
                            display as text
                                paragraph
                                    CurrentPercent
                                    BasePercent
                header2 of "Miscellaneous"
                visible when (not Contract.ServicePurchaseType)
                    paragraph
                        PurchaseOrderUserField2
                            label is "POUserFields"
                        PurchaseOrderUserField4
                            no label
                        PurchaseOrderUserField6
                            no label
                paragraph
                    visible when (not Contract.ServicePurchaseType)
                        Taxable
                    TaxCode
                    TaxUsageCode
                visible when (not ServicePurchaseTypeContract)
                    visible when (PriceBreakSomewhere)
                        display as text
                            paragraph
                                visible when (ItemNumber.Consignment)
                                    ConsignmentCurrentNetCost
                                visible when (NotConsignment)
                                    CurrentNetCost
                                        label is "CurrentNetCost"
                                BeginningNetCost
