LeaseModificationWizardMain is a Form
    title is "LeaseDetail"
    Layout
        paragraph
            Company
                display only
            Company.Name
                no label
                display as text
            Status
                display as text
        paragraph
            Lease
                display only
            Lease.Description
        single column
            ModificationDate
            paragraph
                PriorPeriodModification
                    label is "PriorPeriodModification"
            paragraph
                visible when (PriorPeriodModification)
                    PriorPeriodDate
                        label is "PriorPeriodDate"
                    PriorPeriodPaymentAmount
                        label is "DifferenceInPayments"
                    ModificationNonLeaseComponent
                        label is "NonLeaseComponent"
            Description
            Lease.DerivedCurrentLeaseROU
        header2 of "ModificationDetails"
        paragraph
            visible when (LesaeHasFundSplit)
                ModifyFundSplit
                    label is "ModifyFundSplit"
            TermModification
                label is "ModifyTerm"
            visible when (TermModification)
                TermModificationType
                    label is "Type"
                    when value changed
                        refresh DerivedTerm
                        refresh DerivedEndDate
                visible when (TermModificationType.Extension)
                    paragraph
                        TermModificationMonths
                            label is "<ExtensionMessage>"
                            when value changed
                                refresh DerivedTerm
                                refresh DerivedEndDate
                        text of "Months"
                visible when (TermModificationType.Reduction)
                    paragraph
                        TermModificationMonths
                            label is "<ReductionMessage>"
                            when value changed
                                refresh DerivedTerm
                                refresh DerivedEndDate
                        text of "Months"
        visible when (Lease.DefaultLeaseInterestRate)
            visible when (TermModification)
                text of "Rate_Change_Options"
                    header4
                paragraph
                    NewImplicitInterestRate
                        label is "KeepCurrentRate"
                    NewTotalTerm
                        label is "UpdateRateBasedOnNewTerm"
                    NewRemainingTerm
                        label is "UpdateRateBasedOnNewRemainingTerm"
        paragraph
            visible when (Lease.ExercisePurchase)
                AmountsModification
                    label is "ModifyBargainPurchase"
                visible when (AmountsModification)
                    UpdatedBargainPurchaseAmount
                        label is "NewBargainPurchaseAmount"
                        when value changed
                            refresh UpdatedBargainPurchaseAmount
            visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                AmountsModification
                    label is "ModifyGuaranteedResidualAmount"
                visible when (AmountsModification)
                    UpdatedGuaranteedResidualAmount
                        label is "NewGuaranteedResidualAmount"
                        when value changed
                            refresh UpdatedBargainPurchaseAmount
        paragraph
            visible when (Lease.DefaultLeaseInterestRate)
                ImplicitInterestRate
                    mouse over text is "AllowOverrideMustBeEnabledInTheRateTableToEnterRate"
            visible when (not Lease.DefaultLeaseInterestRate)
                ImplicitInterestRate
                    when value changed
                        refresh DerivedImplicitInterestRate
        blank line
        two column
            header2 of "OriginalValues"
                center
            column1
                OriginalTerm
                    label is "Term"
                    display as text
                OriginalImplicitInterestRate
                    label is "ImplicitInterestRate"
                    display as text
                BeginDate
                    display as text
                OriginalEndDate
                    label is "EndDate"
                    display as text
                visible when (Lease.ExercisePurchase)
                    OriginalBargainPurchaseAmount
                        label is "BargainPurchaseAmount"
                        display as text
                visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                    OriginalGuaranteedResidualAmount
                        label is "GuaranteedResidualAmount"
                        display as text
            header2 of "ModifiedValues"
                center
            column2
                display as text
                    DerivedTerm
                        label is "Term"
                    visible when (Lease.DefaultLeaseInterestRate)
                        ImplicitInterestRate
                            label is "ImplicitInterestRate"
                    visible when (not Lease.DefaultLeaseInterestRate)
                        DerivedImplicitInterestRate
                            label is "ImplicitInterestRate"
                    BeginDate
                    DerivedEndDate
                        label is "EndDate"
                    visible when (Lease.ExercisePurchase)
                        UpdatedBargainPurchaseAmount
                            label is "BargainPurchaseAmount"
                            display as text
                    visible when (Lease.GuaranteedAmount.TransactionAmount entered)
                        UpdatedGuaranteedResidualAmount
                            label is "GuaranteedResidualAmount"
                            display as text
