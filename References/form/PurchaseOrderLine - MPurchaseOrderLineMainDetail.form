MPurchaseOrderLineMainDetail is a Form
    title is "PurchaseOrderLineMainDetail"
    Layout
        header2 of "GeneralInformation"
        three column distributed
            column1
                visible when (ContractLineEntered)
                    Item
                        display as text
                visible when (not ContractLineEntered)
                Item
                    display as required when (true)
                    when value changed
                        refresh TaxCodeRequired
            column2
                Quantity
                    display as required when (QuantityRequired)
            column3
                EnteredBuyUOM
                    select is ValidBuyUnitsOfMeasure
                    display as required when (EnteredBuyUOMRequired)
        three column distributed
            column1
                Description
                    label is "Description"
                    display as required when (DescriptionRequired)
                visible when (OriginalItemExists)
                    paragraph
                        OriginalItem
                            label is "OriginalItem"
                                italics
                            display only
                        OriginalItemRel.Description
                            label is "OriginalItemDescription"
                                italics
            column2
                visible when (ContractLineEntered)
                    ItemType
                        display as text
                visible when (not ContractLineEntered)
                ItemType
                    when value changed
                        refresh ServiceCodeRequired
                        refresh EarlyDeliveryDateRequired
                        refresh EnteredBuyUOMRequired
                        refresh DescriptionRequired
                        refresh TaxCodeRequired
            column3
                VendorBuyUnitCost
                    label is "UnitCost"
                    display as required when (IsCostRequired)
        three column distributed
            column1
                visible when (ContractLineEntered)
                    VendorItem
                        display as text
                visible when (not ContractLineEntered)
                VendorItem
                    select is VendorItemListForItemAndVendor
            column2
                visible when (ItemType.Service)
                    ServiceCode
                        display as required when (ServiceCodeRequired)
                        when value changed
                            refresh QuantityRequired
                visible when (not ItemType.Service)
                    ServiceCode
                        display as text
            column3
                visible when (IsInventoryLineEnetered)
                    DistributionCode
        three column distributed
            EarlyDeliveryDate
                display as required when (EarlyDeliveryDateRequired)
            LateDeliveryDate
            ShipToLocation
                when value changed
                    refresh TaxCodeRequired
        three column distributed
            column1
                visible when (HasBlanketOrStandingContract)
                    Contract
                        display as text
                visible when (not HasBlanketOrStandingContract)
                    Contract
                        select is ContractsForCostDefaulting
            column2
                visible when (ForContractLineDisplay)
                    ContractLine
                        display as text
                visible when (ItemType.Service)
                    visible when (ForContractLineEdit)
                        visible when (not HasBlanketOrStandingContract)
                            EnteredContractLine
                                label is "ContractLine"
                                select is ContractLinesForAServiceItemPO
                                when value changed
                                    refresh ServiceCodeRequired
                                    refresh EnteredBuyUOMRequired
                                    refresh DescriptionRequired
                                    refresh TaxCodeRequired
        visible when (IsInventoryType)
            single column
                GeneralLedgerCategoryRel.InventoryAccount
                    label is "DistributionAccount"
                    compact format
        header2 of "Tax"
        two column distributed
            column1
                Taxable
                    when value changed
                        refresh TaxCodeRequired
            column2
                paragraph
                    TaxCode
                        display as required when (TaxCodeRequired)
                    LandedCostMessage
                        no label
                        display as text
        visible when (IsHSNSACCodeEnabled)
            paragraph
                HSNSACCode
                    display as required when (IsHSNSACCodeEnabled)
                    when value changed
                        refresh TaxCodeRequired
                HSNSACCode.Description
                    no label
                    display as text
        two column distributed
            column1
                TaxUsageCode
            column2
                paragraph
                    TaxableUnitCost
                    ExtendedTaxableAmount
                        label is "ExtendedTotal"
                        display as text
        visible when (Taxable)
            display as text
                paragraph
                    visible when (HasInvoicedTaxAmount)
                        InvoicedTaxAmount
                            label is "ExtendedInvoicedTaxAmount"
                    visible when (HasAccruedTaxAmount)
                        AccruedTaxAmount
                            label is "ExtendedAccruedTaxAmount"
        header2 of "Pricing"
        two column distributed
            column1
                display as text
                    paragraph
                        Quantity
                            label is "Buy"
                        EnteredBuyUOM
                            no label
                    paragraph
                        VendorPriceUOMQuantity
                            label is "VendorQuantity"
                        VendorPriceUOM
                            no label
                paragraph
                    CostOption
                        when value changed
                            refresh IsCostRequired
                display as text
                    paragraph
                        CalculateExtendedAmount
                            label is "Total"
            column2
                display as text
                    paragraph
                        VendorPriceUOM
                            label is "PricedByThe"
                    paragraph
                        visible when (IsVendorBuyUOMMatched)
                            VendorPriceUnitCost
                                label is "At"
                        visible when (not IsVendorBuyUOMMatched)
                            VendorPriceUnitCost
                                label is "At"
                    paragraph
                        Tier
                    paragraph
                        blank line
                    paragraph
                        Preferred
                            label is "PreferredItem"
        header2 of "MiscellaneousDetails"
        two column distributed
            column1
                paragraph
                    ItemGTIN
                        label is "G\\T\\I\\N"
                        select is ActiveGTINNumbersForAnItem
                    ItemGTIN.AbbreviatedDescription
                        no label
                        display as text
            column2
                CnCode
                    label is "BillCode"
                    display as required when (ConsignmentRequired)
        visible when (IsRetainageAllowed)
            header3 of "Retainage"
        visible when (IsRetainageContract)
            paragraph
                text of "RetainageOnContract"
        visible when (IsHeaderRetainage)
            visible when (CostOption.CostRequired)
                single column
                    Retainage
                    RetainageFirstPercent
                        label is "FirstRetainagePercent"
                        display as required when (Retainage.Yes)
                    RetainageUpToPercentComplete
                        label is "UpToPercentComplete"
                        display as required when (Retainage.Yes)
                    RetainageSecondPercent
                        label is "SecondRetainagePercent"
                    RetainagePercentComplete
                        label is "PercentComplete"
                        display as text
                    RetainageOverridePercentComplete
                        label is "OverridePercentComplete"
            visible when (CostOption.VendorDetermined)
                visible when (not ItemType.Service)
                    single column
                        Retainage
                        RetainageFirstPercent
                            label is "FirstRetainagePercent"
                            display as required when (Retainage.Yes)
                        RetainageUpToPercentComplete
                            label is "UpToPercentComplete"
                            display as required when (Retainage.Yes)
                        RetainageSecondPercent
                            label is "SecondRetainagePercent"
                        RetainagePercentComplete
                            label is "PercentComplete"
                            display as text
                        RetainageOverridePercentComplete
                            label is "OverridePercentComplete"
