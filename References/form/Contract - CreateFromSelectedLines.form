CreateFromSelectedLines is an ActionForm
    action is CreateContractOrLinesFromSelectedLines
    Layout
        paragraph
            RepresentativeText
                label is "FromContract"
                display as text
        paragraph
            visible when (not AddLinesToExistingContract)
                CreateContract
            visible when (CreateContract)
                visible when (IsManufacturerContract)
                    CreateAsManufacturerContract
                        label is "KeepAsAManufacturerContract"
                    visible when (CreateAsManufacturerContract)
                        visible when (HasDistributorContract)
                            CreateDistributorContracts
                                label is "AssociateWithCurrentDistributorContracts"
                visible when (IsDistributorContract)
                    CreateDistributorContracts
                        label is "KeepAsADistributorContract"
        visible when (not CreateContract)
            visible when (not AddLinesToExistingContract)
                single column
                    text of "Or"
        paragraph
            visible when (not CreateContract)
                AddLinesToExistingContract
            visible when (AddLinesToExistingContract)
                text of "ExistingContract:"
                ExistingContractForLineAdd
                    select is ContractsToCopyLinesTo
                ExistingContractForLineAdd.Name
                    display as text
        three column
            visible when (NotClosed)
                visible when (not HoldExistingLines)
                    CloseExistingLines
                        label is "CloseSelectedLines"
            visible when (not OnHold)
                visible when (not CloseExistingLines)
                    HoldExistingLines
                        label is "HoldSelectedLines"
                visible when (HoldExistingLines)
                    paragraph
                        ProcurementReasonCode
                        ProcurementReasonCode.Description
                            no label
                            display as text
        visible when (CreateContract)
            single column
                NewName
                    label is "Name"
                NewDescription
                    label is "Description"
            paragraph
                NewContact
                    label is "PrimaryInternalContact"
                NewContact.FirstLastName
                    no label
                    display as text
            paragraph
                NewSupplier
                    label is "Supplier"
                NewSupplier.SupplierName
                    no label
                    display as text
                NewSupplierContact
                    label is "SupplierContact"
                NewSupplierContact.MainContact.FirstAndLastName
                    no label
                    display as text
            two column
                NewContractType
                    label is "ContractType"
                    select is BuyerContractTypesSelect
                NewContractSubtype
                    label is "ContractSubtype"
                    select is BuyerContractSubtypeSelect
            two column
                NewContractClassification
                    label is "ContractClassification"
                    select is BuyerContractClassificationSelect
                NewContractSubclassification
                    label is "ContractSubclassification"
                    select is BuyerContractSubclassificationSelect
            paragraph
                NewContractHasNoParent
                    label is "NewContractDoesNotHaveAParentContract"
                visible when (not NewContractHasNoParent)
                    NewParentContract
                        label is "ParentContract"
                        select is NotClosedContracts
                    NewParentContract.Name
                        no label
                        display as text
                    visible when (HasParent)
                        ParentContract
                            label is "ParentContract_onFromContract;WillDefault"
                            display as text
            header2 of "NewContractDates"
            three column
                NewEffectiveDate
                    label is "EffectiveDate"
                NewExpirationDate
                    label is "ExpirationDate"
                NewContractReviewDate
                    label is "ContractReviewDate"
            visible when (TargetedDatesRequired)
                two column
                    NewTargetedPurchasesFromDate
                        label is "TargetedPurchasesFromDate"
                    NewTargetedPurchasesToDate
                        label is "TargetedPurchasesToDate"
            single column
                CopyHoldForLines
                    label is "KeepHoldForLines"
        visible when (CreateContract)
            header2 of "CopyOptions"
            single column
                CopySelectAll
                    label is "SelectAll"
            two column
                CopyArticlesAndTerms
                    label is "ArticlesAndTerms"
                CopyContractComments
                    label is "Comments"
                CopyContractAttachments
                    label is "Attachments"
                CopyContractParticipants
                    label is "Participants/Members"
                CopyContacts
                    label is "Contacts"
                CopyManualQuestions
                    label is "ManuallyAddedQuestions"
                CopyMilestones
                    label is "Milestones"
                CopyDeliverables
                    label is "Deliverables"
                CopyTiersOrDistributorPricing
                    label is "TiersOrDistributorPricing"
                CopyManufacturerContracts
                    label is "ManufacturerContracts"
                CopyLocations
                    label is "Locations"
                CopyContractLineComments
                    label is "LineComments"
                CopyContractLineAttachments
                    label is "LineAttachments"
                visible when (CapitatedContract)
                    CopyCapitatedInformation
        visible when (AddLinesToExistingContract)
            header2 of "LineCopyOptions"
            single column
                CopySelectAll
                    label is "SelectAll"
            two column
                CopyLocations
                    label is "Locations"
                CopyContractLineComments
                    label is "LineComments"
                CopyContractLineAttachments
                    label is "LineAttachments"
                visible when (CapitatedContract)
                    CopyCapitatedInformation
