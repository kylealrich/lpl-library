PrimaryPaymentForm is a Form
    Layout
        visible when (not ViewFieldOnly)
            two column distributed
                column1
                    paragraph
                        CashCode
                        CashCode.Description
                            no label
                            display as text
                        CashCode.Currency
                            label is "Currency"
                            display as text
                    paragraph
                        visible when (DisplayUpdateableReportableIncome)
                            IncomeCode
                                label is "DefaultIncomeCode"
                        visible when (not DisplayUpdateableReportableIncome)
                            IncomeCode
                                label is "DefaultIncomeCode"
                                display as text
                        IncomeCode.Description
                            no label
                            display as text
                        visible when (DisplayUpdateableReportableIncome)
                            TransientReportableAmount
                        visible when (not DisplayUpdateableReportableIncome)
                            TransientReportableAmount
                                display as text
                        VATSplitPayment
                column2
                    paragraph
                        BankTransactionCode
                            select is CashPaymentsOrBillOfExchangePayments
                        BankTransactionCode.Description
                            no label
                            display as text
                        visible when (PayGroupEntered)
                            DerivedPayGroup
                                display as text
                    paragraph
                        VendorPaymentAmount
                            display as required when (VendorPaymentAmountRequired)
                            when value changed
                                refresh VendorPaymentAmountRequired
                        VendorPaymentCurrency
                            label is "Currency"
                            when value changed
                                refresh VendorPaymentAmountRequired
        visible when (ViewFieldOnly)
            display as text
                two column distributed
                    column1
                        paragraph
                            CashCode
                            CashCode.Description
                                no label
                            CashCode.Currency
                                label is "Currency"
                        paragraph
                            IncomeCode
                                label is "DefaultIncomeCode"
                            IncomeCode.Description
                                no label
                            TransientReportableAmount
                            VATSplitPayment
                    column2
                        paragraph
                            BankTransactionCode
                                label is "PaymentCode"
                            BankTransactionCode.Description
                                no label
                            visible when (PayGroupEntered)
                                DerivedPayGroup
                        paragraph
                            VendorPaymentAmount
                            VendorPaymentCurrency
                                label is "Currency"
        two column distributed
            column1
                header2 of "ProcessingOptions"
                paragraph
                    TransientVendorPriority
                        label is "PaymentPriority"
                    InvoiceGroup
                    SecondaryWithholding
                        label is "SecondaryWithholding"
                    visible when (IsVendorWithholdingIncomeNoOverride)
                        display as text
                            IncomeWithholdingCode
                            IncomeWithholdingCode.Description
                                no label
                    visible when (Vendor.AllowWithholdingCodeOverride)
                        IncomeWithholdingCode
                            label is "VendorWithholdingCode"
                            select is VendorWithholdingCodeList
                        IncomeWithholdingCode.Description
                            no label
                            display as text
                paragraph
                    visible when (not PayablesInvoicePaymentRelExists)
                        OverrideSeparatePayment
                            label is "SeparatePayment"
                        OverridePayImmediately
                            label is "PayImmediately"
                        OverrideEnclosure
                            label is "Enclosure"
            column2
                visible when (not ViewFieldOnly)
                    header2 of "ManualPaymentInformation"
                    paragraph
                        TransientPaymentNumber
                            display as required when (TransientPaymentNumberRequired)
                            when value changed
                                refresh TransientPaymentAmountRequired
                                refresh TransientPaymentDateRequired
                                refresh TransientPaymentNumberRequired
                        TransientPaymentDate
                            label is "Date"
                            display as required when (TransientPaymentDateRequired)
                            when value changed
                                refresh TransientPaymentAmountRequired
                                refresh TransientPaymentNumberRequired
                                refresh TransientPaymentDateRequired
                        TransientPaymentAmount
                            label is "Amount"
                            display as required when (TransientPaymentAmountRequired)
                            when value changed
                                refresh TransientPaymentNumberRequired
                                refresh TransientPaymentDateRequired
                                refresh TransientPaymentAmountRequired
                        button of "RemoveManualPayment"
                            visible when (HasManualPaymentAvailableForDelete)
                            action is RemoveManualPayment
                        button of "ViewReservedPayments"
                            visible when (IsManualPaymentNumberReservation)
                            link is ManuallyReservedPayments
                            display as link
                visible when (ViewFieldOnly)
                    header2 of "PaymentInformation"
                    display as text
                        paragraph
                            DerivedPaymentsAppliedTotal
                                label is "PaymentInvoiceAmount"
                            DerivedNetPaymentsAppliedTotal
                                label is "NetPaymentAmount"
                            DerivedActualCheckAmountTotal
                                label is "TotalBankPaymentAmount"
                    visible when (not MultiplePayablesInvoicePaymentRelExists)
                        paragraph
                            TransientPaymentNumber
                                display as text
                            TransientPaymentDate
                                label is "PaymentDate"
                                display as text
                            button of "RemoveManualPayment"
                                visible when (HasManualPaymentAvailableForDelete)
                                action is RemoveManualPayment
                                display as link
                            visible when (CashLedgerPaymentsExist)
                                first PaymentsHaveBeenAppliedRel.PaymentStatus
                                    display as text
                    visible when (MultiplePayablesInvoicePaymentRelExists)
                        text of "MultiplePaymentsExistUsePayScheduleToViewDetails"
                            bold
        two column distributed
            column1
                visible when (DisplaySplitPaymentInfo)
                    header2 of "SplitPaymentDetail"
                    display as text
                        paragraph
                            NumberOfSplitPayments
                            SplitPaymentSchedule
                            visible when (IsSplitable)
                                button of "ChangeSplitPayments"
                                    action is SetupSplitPayments
                                    is primary
                visible when (not DisplaySplitPaymentInfo)
                    visible when (IsSplitable)
                        header2 of "SplitPaymentDetail"
                        paragraph
                            button of "SplitPayments"
                                action is SetupSplitPayments
                                is primary
            column2
                visible when (DisplayRecurringInformation)
                    header2 of "RecurringInvoiceOptions"
                    visible when (IsRecurrable)
                        paragraph
                            RecurringFrequency
                                display as required when (RecurringFrequencyRequired)
                                when value changed
                                    refresh NumberOfRecurrencesRequired
                                    refresh RecurringFrequencyRequired
                            NumberOfRecurringInvoices
                                label is "NumberOfRecurrences"
                                display as required when (NumberOfRecurrencesRequired)
                                when value changed
                                    refresh RecurringFrequencyRequired
                                    refresh NumberOfRecurrencesRequired
                    visible when (not IsRecurrable)
                        display as text
                            paragraph
                                RecurringFrequency
                                NumberOfRecurringInvoices
                                    label is "NumberOfRecurrences"
        header2 of "BankInstructions"
        two column
            column1
                BankInstructions1
                    label is "1"
                BankInstructions2
                    label is "2"
            column2
                BankInstructions3
                    label is "3"
                BankInstructions4
                    label is "4"
