BillingReceivablesPortalPage is a Page
    title is "Billing_andReceivablesPortal"
    implements MenuSearch

    Main is a DashBoardPanel
        use 12 column grid
        Welcome is a Pane
            span 4 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsAnonymousAndXref)
            Layout
                single column
                    small menu
                        link is signin
                            title is "SignIn"
                            menu item name is SignInAnonymousAndXref
                            description is "SignInToBilling_andReceivablesPortal"
                            icon is icon.target-emerald
                        action is CustomerRepresentative.CustomerCreate
                            title is "RequestCustomerAccess"
                            menu item name is RequestCustomerAccessAnonymousAndXref
                            allow anonymous access
                            icon is icon.hcm-emerald
                        action is CustomerRepresentativeContact.ForgotUserName
                            title is "ForgotUserName"
                            menu item name is ForgotUserNameAnonymousAndXref
                            allow anonymous access
                            icon is icon.search-emerald
        Welcome2 is a Pane
            span 4 columns
            title is "Welcome"
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsAnonymousAndExternalEntity)
            Layout
                single column
                    small menu
                        link is signin
                            title is "SignIn"
                            menu item name is SignInAnonymousAndExternalEntity
                            description is "SignInToBilling_andReceivablesPortal"
                            icon is icon.target-emerald
                        action is CustomerRepresentative.CustomerCreateImport
                            title is "RequestCustomerAccess"
                            menu item name is RequestCustomerAccessAnonymousAndExternalEntity
                            allow anonymous access
                            icon is icon.hcm-emerald
        Profile is a Pane
            span 3 columns
            visible when (actor.agent(CustomerRepresentativeContact).IsLoggedInAndActive)
            Layout
                single column
                    small menu
                        form is CustomerRepresentativeContact.PortalAccountInformation
                            title is "<actor.agent(CustomerRepresentativeContact).CustomerRepresentative.CustomerName>"
                            menu item name is PortalAccountInformationLoggedInAndActive
                            icon is icon.hcm-azure
                        visible when (actor.agent(CustomerRepresentativeContact).MFADeviceRequired)
                            paragraph
                                text of "<actor.agent(CustomerRepresentativeContact).MFADeviceRequiredMF>"
                                    bold
                                    color of red
                        paragraph
                            text of "Contact:"
                                bold
                            text of "<actor.agent(CustomerRepresentativeContact).MainContact.FirstAndLastName>"
                        paragraph
                            text of "Phone:"
                                bold
                            text of "<actor.agent(CustomerRepresentativeContact).DerivedTelephoneNumber>"
                        paragraph
                            text of "Email:"
                                bold
                            text of "<actor.agent(CustomerRepresentativeContact).EmailAddress>"
                        paragraph
                            text of "Address:"
                                bold
                            text of "<actor.agent(CustomerRepresentativeContact).FullAddressDisplay>"
                        visible when (actor.agent(CustomerRepresentativeContact).IsPrimary)
                            paragraph
                                text of "Registration_Status:"
                                    bold
                                text of "<actor.agent(CustomerRepresentativeContact).RegistrationStatus>"
        Instructions is a Pane
            span 7 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsAnonymous)
            business class is BillingReceivablesPortalLinksAndInstructions
                list is RepresentativeInstructions
                    title is "Instructions_andAnnouncements"
        Instructions is a Pane
            span 5 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsUpdatable)
            business class is BillingReceivablesPortalLinksAndInstructions
                list is RepresentativeInstructions
                    title is "Instructions_andAnnouncements"
        QuickLinks is a Pane
            span 4 columns
            visible when (actor.agent(CustomerRepresentativeContact).IsLoggedInAndActive)
            Layout
                two column distributed
                    column1
                        small menu
                            link is signout
                                title is "SignOut"
                                menu item name is SignOutIsLoggedInAndActive
                                description is "SignOutOfBilling_andReceivablesPortal"
                                icon is icon.target-emerald
                            form is CustomerRepresentativeContact.CustomerInvoices
                                title is "Invoices"
                                menu item name is CustomerInvoicesIsLoggedInAndActive
                                description is "CustomerInvoices"
                                icon is icon.document-text-ruby
                            form is CustomerRepresentativeContact.CustomerPayments
                                title is "Payments"
                                menu item name is CustomerPaymentsIsLoggedInAndActive
                                description is "CustomerPayments"
                                icon is icon.CSFPricing
                            form is CustomerRepresentativeContact.CustomerOrders
                                title is "Orders"
                                menu item name is CustomerOrdersIsLoggedInAndActive
                                description is "CustomerOrders"
                                icon is icon.CSFInventory
                    column2
                        small menu
                            form is CustomerRepresentativeContact.CustomerOrderReturns
                                title is "Returns"
                                menu item name is CustomerOrderReturnsIsLoggedInAndActive
                                description is "CustomerReturns"
                                icon is icon.CSFRecall
                            form is CustomerRepresentativeContact.CustomerItemHistory
                                title is "ItemHistory"
                                menu item name is CustomerItemHistoryIsLoggedInAndActive
                                description is "CustomerItemHistory"
                                icon is icon.CSFClose
                            form is CustomerRepresentativeContact.CustomerProjectActivity
                                title is "Projects"
                                menu item name is CustomerProjectsIsLoggedInAndActive
                                description is "CustomerProjects"
                                icon is icon.CSFFinancialBusinessAnalyst
        Messages is a Pane
            span 5 columns
            visible when (actor.agent(CustomerRepresentativeContact).IsLoggedInAndActive)
            business class is CustomerRepresentativeContactMessage
                list is PortalCustomerRepresentativeMessagesInbox
        Links is a Pane
            span 4 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsAnonymous)
            business class is BillingReceivablesPortalLinksAndInstructions
                list is RepresentativeLinks
                    title is "Links_andAttachments"
        Links is a Pane
            span 4 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsUpdatable)
            business class is BillingReceivablesPortalLinksAndInstructions
                list is RepresentativeLinks
                    title is "Links_andAttachments"
        ContactUs is a Pane
            span 7 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsAnonymous)
            business class is CustomerGroupPortalContact
                list is PortalContactList
                    title is "ContactUs"
        ContactUs is a Pane
            span 3 columns
            visible when (actor.agent(CustomerRepresentativeContact).CustomerRepresentative.IsUpdatable)
            business class is CustomerGroupPortalContact
                list is PortalContactList
                    title is "ContactUs"
        Inactive is a Pane
            span 9 columns
            visible when (actor.agent(CustomerRepresentativeContact).IsLoggedInAndInactive)
            Layout
                single column
                    large menu
                        paragraph
                            text of "AccessTo_\\BillingAnd_\\Receivables_\\PortalDenied"
                                header2
                                bold
                                color of red
                        paragraph
                            text of "YourAccountIsCurrentlyInactive"
                                header4
                                italics
                                color of red

